{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/SidebarItem.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { FiEdit, FiTrash2 } from \"react-icons/fi\";\nimport \"../style/side-bar-Item.css\";\n\nexport default function SidebarItem({\n  conversation,\n  onRename,\n  onDelete,\n  onSelect,\n  isActive,\n}) {\n  const [showMenu, setShowMenu] = useState(false);\n  const [position, setPosition] = useState({ top: 0, left: 0 });\n  const buttonRef = useRef(null); // referência do botão \"⋮\"\n  const menuRef = useRef(null); // referência do dropdown (portal)\n\n  const openMenu = (e) => {\n    e.stopPropagation();\n    if (buttonRef.current) {\n      const rect = buttonRef.current.getBoundingClientRect();\n      setPosition({\n        top: rect.top + window.scrollY,   // posição no documento\n        left: rect.right + 12,            // à direita da sidebar\n      });\n    }\n    setShowMenu(true);\n  };\n\n  const closeMenu = () => setShowMenu(false);\n\n  const toggleMenu = (e) => {\n    e.stopPropagation();\n    if (showMenu) closeMenu();\n    else openMenu(e);\n  };\n\n  const handleRename = (e) => {\n    e.stopPropagation();\n    // opcional: console.log para debug\n    // console.log(\"clicou renomear\", conversation);\n    onRename?.(conversation);\n    closeMenu();\n  };\n\n  const handleDelete = (e) => {\n    e.stopPropagation();\n    // console.log(\"clicou excluir\", conversation);\n    onDelete?.(conversation);\n    closeMenu();\n  };\n\n  // Fecha ao clicar fora OU tocar (considera menuRef + buttonRef)\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      const target = e.target;\n      // se não está nem no botão nem no menu, fechar\n      if (\n        buttonRef.current &&\n        !buttonRef.current.contains(target) &&\n        menuRef.current &&\n        !menuRef.current.contains(target)\n      ) {\n        setShowMenu(false);\n      }\n    };\n\n    const handleEscape = (e) => {\n      if (e.key === \"Escape\") setShowMenu(false);\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    document.addEventListener(\"touchstart\", handleClickOutside);\n    document.addEventListener(\"keydown\", handleEscape);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n      document.removeEventListener(\"touchstart\", handleClickOutside);\n      document.removeEventListener(\"keydown\", handleEscape);\n    };\n  }, []);\n\n  // Atualiza posição se a janela rolar ou redimensionar enquanto o menu está aberto\n  useEffect(() => {\n    if (!showMenu) return;\n    const updatePos = () => {\n      if (!buttonRef.current) return;\n      const rect = buttonRef.current.getBoundingClientRect();\n      setPosition({\n        top: rect.top + window.scrollY,\n        left: rect.right + 12,\n      });\n    };\n    window.addEventListener(\"scroll\", updatePos, { passive: true });\n    window.addEventListener(\"resize\", updatePos);\n    return () => {\n      window.removeEventListener(\"scroll\", updatePos);\n      window.removeEventListener(\"resize\", updatePos);\n    };\n  }, [showMenu]);\n\n  return (\n    <>\n      <div\n        className={`sidebar-item ${isActive ? \"active\" : \"\"}`}\n        onClick={() => onSelect?.(conversation)}\n      >\n        <span className=\"sidebar-text\">\n          {conversation.title || \"Chat sem nome\"}\n        </span>\n\n        {/* botão que abre o menu */}\n        <div\n          className=\"dots-menu\"\n          ref={buttonRef}\n          onClick={toggleMenu}\n          role=\"button\"\n          aria-haspopup=\"menu\"\n          aria-expanded={showMenu}\n        >\n          <span className=\"dots\">⋮</span>\n        </div>\n      </div>\n\n      {/* portal do dropdown - menuRef permite detectar cliques dentro dele */}\n      {showMenu &&\n        createPortal(\n          <div\n            className=\"floating-dropdown\"\n            ref={menuRef}\n            style={{\n              position: \"absolute\",\n              top: `${position.top}px`,\n              left: `${position.left}px`,\n              zIndex: 99999,\n            }}\n            role=\"menu\"\n          >\n            <p\n              onClick={handleRename}\n              role=\"menuitem\"\n              tabIndex={0}\n              onKeyDown={(e) =>\n                (e.key === \"Enter\" || e.key === \" \") && handleRename(e)\n              }\n            >\n              <FiEdit className=\"icon\" /> Renomear\n            </p>\n            <p\n              onClick={handleDelete}\n              role=\"menuitem\"\n              tabIndex={0}\n              onKeyDown={(e) =>\n                (e.key === \"Enter\" || e.key === \" \") && handleDelete(e)\n              }\n            >\n              <FiTrash2 className=\"icon\" /> Excluir\n            </p>\n          </div>,\n          document.body\n        )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/Modal.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"../style/modal.css\";\n\nexport default function Modal({ type, chatTitle, onClose, onConfirm }) {\n  const [newTitle, setNewTitle] = useState(chatTitle || \"\");\n  const inputRef = useRef(null);\n  const isRename = type === \"renomear\";\n  const isDelete = type === \"excluir\";\n\n  useEffect(() => {\n    if (isRename) inputRef.current?.focus();\n\n    const handleEsc = (e) => {\n      if (e.key === \"Escape\") onClose();\n    };\n    document.addEventListener(\"keydown\", handleEsc);\n    return () => document.removeEventListener(\"keydown\", handleEsc);\n  }, [isRename, onClose]);\n\n  const handleConfirm = () => {\n    if (isRename && !newTitle.trim()) return;\n    onConfirm(isRename ? newTitle.trim() : undefined);\n  };\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal modal-animate\" role=\"dialog\" aria-modal=\"true\">\n        {isDelete && <p>Deseja realmente excluir o chat \"{chatTitle}\" ? Essa ação é irreversível e as mensagens\n              desse chat serão apagadas</p>}\n        {isRename && (\n          <>\n            <p>Renomear chat:</p>\n            <input\n              ref={inputRef}\n              type=\"text\"\n              value={newTitle}\n              onChange={(e) => setNewTitle(e.target.value)}\n              onKeyPress={(e) => e.key === \"Enter\" && handleConfirm()}\n              maxLength={50}\n            />\n          </>\n        )}\n        <div className=\"modal-actions\">\n          <button className=\"cancelar\" onClick={onClose}>Cancelar</button>\n        <button\n          className=\"confirm\"\n          onClick={() => onConfirm(isRename ? newTitle.trim() : undefined)}\n        >\n          {isDelete ? \"Confirmar Exclusão\" : \"Salvar Novo Nome\"}\n        </button>\n\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;AAGe,SAAS,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,EAAE;IACnE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC,aAAa;IACtD,MAAM,WAAW,IAAA,+MAAM,EAAC;IACxB,MAAM,WAAW,SAAS;IAC1B,MAAM,WAAW,SAAS;IAE1B,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU,SAAS,OAAO,EAAE;QAEhC,MAAM,YAAY,CAAC;YACjB,IAAI,EAAE,GAAG,KAAK,UAAU;QAC1B;QACA,SAAS,gBAAgB,CAAC,WAAW;QACrC,OAAO,IAAM,SAAS,mBAAmB,CAAC,WAAW;IACvD,GAAG;QAAC;QAAU;KAAQ;IAEtB,MAAM,gBAAgB;QACpB,IAAI,YAAY,CAAC,SAAS,IAAI,IAAI;QAClC,UAAU,WAAW,SAAS,IAAI,KAAK;IACzC;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;YAAsB,MAAK;YAAS,cAAW;;gBAC3D,0BAAY,8OAAC;;wBAAE;wBAAkC;wBAAU;;;;;;;gBAE3D,0BACC;;sCACE,8OAAC;sCAAE;;;;;;sCACH,8OAAC;4BACC,KAAK;4BACL,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4BAC3C,YAAY,CAAC,IAAM,EAAE,GAAG,KAAK,WAAW;4BACxC,WAAW;;;;;;;;8BAIjB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAO,WAAU;4BAAW,SAAS;sCAAS;;;;;;sCACjD,8OAAC;4BACC,WAAU;4BACV,SAAS,IAAM,UAAU,WAAW,SAAS,IAAI,KAAK;sCAErD,WAAW,uBAAuB;;;;;;;;;;;;;;;;;;;;;;;AAO7C","debugId":null}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/api/Api.js"],"sourcesContent":["const API_BASE_URL = \"https://agente-ia-squad42.onrender.com\";\n\n// Função para pegar token do localStorage\nconst getToken = () => {\n  const token = localStorage.getItem(\"token\");\n  if (!token) throw new Error(\"Token não encontrado. Faça login novamente.\");\n  return token;\n};\n\n// Função para tratar respostas HTTP\nconst handleResponse = async (res) => {\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(`Erro ${res.status}: ${text || res.statusText}`);\n  }\n  try {\n    return res.json();\n  } catch {\n    return null;\n  }\n};\n\n// Função auxiliar para requisições com token\nconst fetchWithToken = async (url, options = {}) => {\n  const token = getToken();\n  const headers = { Authorization: `Bearer ${token}`, ...(options.headers || {}) };\n  const res = await fetch(url, { ...options, headers });\n  return handleResponse(res);\n};\n\nexport const api = {\n\n\n  /** ===================== AUTENTICAÇÃO ===================== */\n  login: async (email, password) => {\n    if (!email || !password) throw new Error(\"Email e senha são obrigatórios.\");\n    const res = await fetch(`${API_BASE_URL}/api/auth/login`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email, password }),\n    });\n    const data = await handleResponse(res);\n\n    if (data.access_token) {\n      localStorage.setItem(\"token\", data.access_token);\n    } else {\n      throw new Error(\"Token não retornado pelo servidor.\");\n    }\n\n    return data;\n  },\n\n  getProfile: async () => {\n    return fetchWithToken(`${API_BASE_URL}/api/auth/profile`);\n  },\n\n\n  /** ===================== CONVERSAS ===================== */\n\n\n  getConversations: async () => {\n    return fetchWithToken(`${API_BASE_URL}/api/chat/conversations`);\n  },\n\n  getConversationHistory: async (conversationId) => {\n    if (!conversationId) throw new Error(\"ID da conversa é obrigatório.\");\n    return fetchWithToken(`${API_BASE_URL}/api/chat/conversations/${conversationId}`);\n  },\n\n  renameConversation: async (conversationId, newTitle) => {\n    if (!conversationId || !newTitle) throw new Error(\"ID e título são obrigatórios\");\n\n    const url = `${API_BASE_URL}/api/chat/conversations/${conversationId}/rename`;\n\n    return fetchWithToken(url, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ new_title: newTitle }),\n    });\n  },\n\n  deleteConversation: async (conversationId) => {\n    if (!conversationId) throw new Error(\"ID da conversa obrigatório\");\n    return fetchWithToken(`${API_BASE_URL}/api/chat/conversations/${conversationId}`, {\n      method: \"DELETE\",\n    });\n  },\n\n  /** ===================== MENSAGENS ===================== */\n\n  sendMessage: async (\n    prompt,\n    conversationId = null,\n    attachedDocumentId = null // Adicionado para suportar o anexo\n  ) => {\n    if (!prompt) throw new Error(\"Mensagem não pode ser vazia.\");\n    const url = `${API_BASE_URL}/api/chat/conversations`;\n\n    const requestBody = {\n      prompt: prompt,\n    };\n    if (conversationId) {\n      requestBody.conversation_id = conversationId;\n    }\n    if (attachedDocumentId) {\n      requestBody.input_document_id = attachedDocumentId;\n    }\n\n    const data = await fetchWithToken(url, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(requestBody),\n    });\n\n    return data;\n  },\n  /** ===================== DOCUMENTOS ===================== */\n  uploadDocument: async (file) => {\n    if (!file) throw new Error(\"Arquivo não selecionado.\");\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    return fetchWithToken(`${API_BASE_URL}/api/documents/upload`, {\n      method: \"POST\",\n      body: formData,\n    });\n  },\n\n  downloadFile: async (gridfsFileId) => {\n    if (!gridfsFileId) throw new Error(\"ID do arquivo é obrigatório.\");\n    const token = getToken();\n    const res = await fetch(`${API_BASE_URL}/files/${gridfsFileId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    if (!res.ok) throw new Error(\"Falha ao baixar arquivo.\");\n    return res.blob();\n  },\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/AddFileModal.js"],"sourcesContent":["// addfilemodal.js\nimport React, { useState } from \"react\";\nimport { MdOutlineClose, MdDriveFolderUpload } from \"react-icons/md\";\nimport { api } from \"../api/Api\";\nimport \"../style/add-file.css\";\n\nexport default function AddFileModal({ onFileUploaded, onClose, activeConversation }) {\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleFileChange = async (e) => {\n    const file = e.target.files[0];\n    if (!file || !activeConversation || !activeConversation._id) {\n        setError(\"Selecione um arquivo e verifique a conversa ativa.\");\n        return;\n    }\n\n    setIsUploading(true);\n    setError(null);\n\n    try {\n      const conversationId = activeConversation._id; \n      const data = await api.uploadDocument(file, conversationId);\n      const documentId = data?.document?._id; \n\n      if (!documentId) {\n        throw new Error(\"ID do documento não recebido da API. Verifique a resposta de sucesso do servidor.\");\n      }\n      \n      alert(`Arquivo \"${file.name}\" enviado com sucesso!`);\n\n      if (onFileUploaded && documentId) {\n        onFileUploaded(documentId);\n      }\n      onClose();\n      \n    } catch (err) {\n      console.error(\"Erro no upload do arquivo:\", err);\n      setError(err.message || \"Erro desconhecido ao enviar arquivo.\"); \n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal add-file-modal modal-animate\">\n        <div className=\"modal-header\">\n          <h3>Adicionar Arquivo</h3>\n          <button className=\"close-modal-btn\" onClick={onClose} disabled={isUploading}><MdOutlineClose /></button>\n        </div>\n        <div className=\"modal-content\">\n          {error && <p className=\"error-message\">{error}</p>}\n          <label className={`file-upload-label ${isUploading ? \"disabled\" : \"\"}`}>\n            <MdDriveFolderUpload className=\"upload-icon\" />\n            <span>{isUploading ? \"Processando...\" : \"Escolher Arquivo\"}</span>\n            <input type=\"file\" onChange={handleFileChange} disabled={isUploading} style={{ display: \"none\" }} />\n          </label>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,kBAAkB;;;;;;AAClB;AACA;AACA;;;;;;AAGe,SAAS,aAAa,EAAE,cAAc,EAAE,OAAO,EAAE,kBAAkB,EAAE;IAClF,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,MAAM,mBAAmB,OAAO;QAC9B,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;QAC9B,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,mBAAmB,GAAG,EAAE;YACzD,SAAS;YACT;QACJ;QAEA,eAAe;QACf,SAAS;QAET,IAAI;YACF,MAAM,iBAAiB,mBAAmB,GAAG;YAC7C,MAAM,OAAO,MAAM,wHAAG,CAAC,cAAc,CAAC,MAAM;YAC5C,MAAM,aAAa,MAAM,UAAU;YAEnC,IAAI,CAAC,YAAY;gBACf,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,CAAC,SAAS,EAAE,KAAK,IAAI,CAAC,sBAAsB,CAAC;YAEnD,IAAI,kBAAkB,YAAY;gBAChC,eAAe;YACjB;YACA;QAEF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,SAAS,IAAI,OAAO,IAAI;QAC1B,SAAU;YACR,eAAe;QACjB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;sCAAG;;;;;;sCACJ,8OAAC;4BAAO,WAAU;4BAAkB,SAAS;4BAAS,UAAU;sCAAa,cAAA,8OAAC,gKAAc;;;;;;;;;;;;;;;;8BAE9F,8OAAC;oBAAI,WAAU;;wBACZ,uBAAS,8OAAC;4BAAE,WAAU;sCAAiB;;;;;;sCACxC,8OAAC;4BAAM,WAAW,CAAC,kBAAkB,EAAE,cAAc,aAAa,IAAI;;8CACpE,8OAAC,qKAAmB;oCAAC,WAAU;;;;;;8CAC/B,8OAAC;8CAAM,cAAc,mBAAmB;;;;;;8CACxC,8OAAC;oCAAM,MAAK;oCAAO,UAAU;oCAAkB,UAAU;oCAAa,OAAO;wCAAE,SAAS;oCAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM3G","debugId":null}},
    {"offset": {"line": 601, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/MenuPerfil.js"],"sourcesContent":["import React from \"react\";\nimport \"../style/menu-perfil.css\";\n\nexport default function MenuPerfil({ onLogout, userEmail }) {\n  const handleLogout = () => {\n    if (typeof onLogout === \"function\") onLogout();\n  };\n\n  return (\n    <div className=\"profile-menu\">\n      <div className=\"profile-info\">\n        <span>{userEmail}</span>\n      </div>\n      <button className=\"profile-option\" onClick={handleLogout} type=\"button\">\n        <span>Sair</span>\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;AAGe,SAAS,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE;IACxD,MAAM,eAAe;QACnB,IAAI,OAAO,aAAa,YAAY;IACtC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;8BAAM;;;;;;;;;;;0BAET,8OAAC;gBAAO,WAAU;gBAAiB,SAAS;gBAAc,MAAK;0BAC7D,cAAA,8OAAC;8BAAK;;;;;;;;;;;;;;;;;AAId","debugId":null}},
    {"offset": {"line": 658, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/InputChat.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { FiSend, FiPlus } from \"react-icons/fi\";\nimport { api } from \"../api/Api\";\nimport \"../style/chat.css\";\n\n\nexport default function InputChat({ activeConversation, onOpenAddFileModal, onMessageSent, attachedDocumentId, setAttachedDocumentId }) {\n    const [message, setMessage] = useState(\"\");\n    const [isSending, setIsSending] = useState(false);\n\n    const sendMessage = async () => {\n\n        const userPrompt = message.trim();\n        if (!activeConversation || (!userPrompt && !attachedDocumentId) || isSending) return;\n\n        setIsSending(true);\n        setMessage(\"\");\n        onMessageSent?.({\n            sender: \"user\",\n            content: userPrompt,\n            id: crypto.randomUUID(),\n        });\n\n        try {\n            const conversationId = activeConversation?._id || activeConversation?.id;\n\n            const data = await api.sendMessage(userPrompt, conversationId, attachedDocumentId);\n          \n            setAttachedDocumentId(null);\n\n            onMessageSent?.({\n                sender: \"bot\",\n                content: data?.message_content || data?.content || data?.mensagem || \"Resposta da IA não recebida.\",\n                id: crypto.randomUUID(),\n                generated_document_id: data?.document_id,\n            });\n\n        } catch (err) {\n            console.error(\"Erro ao enviar mensagem:\", err);\n            \n            const errorMessage = attachedDocumentId \n                ? \"Erro de conexão/servidor. O anexo foi mantido. Tente novamente.\" \n                : \"Erro de conexão ou servidor. Tente novamente.\";\n\n            onMessageSent?.({ \n                sender: \"bot\", \n                content: errorMessage, \n                id: crypto.randomUUID() \n            });\n        } finally {\n            setIsSending(false);\n        }\n    };\n\n    const handleKeyDown = (e) => {\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault(); \n            sendMessage();\n        }\n    };\n\n    const placeholderText = attachedDocumentId\n        ? `Documento anexado (${attachedDocumentId.substring(0, 4)}...). Digite sua instrução...`\n        : (isSending ? \"Aguardando resposta...\" : \"Digite sua mensagem...\");\n        \n    return (\n        \n        <div className={`chat-input ${attachedDocumentId ? 'has-attachment' : ''}`}> \n            <button \n                className=\"add-file-btn\" \n                onClick={onOpenAddFileModal} \n                disabled={isSending}\n            >\n                {/* btn add file */}\n                <FiPlus className={attachedDocumentId ? 'attached-icon' : ''} />\n            </button>\n        \n            <input\n                type=\"text\"\n                placeholder={placeholderText}\n                value={message}\n                onChange={(e) => setMessage(e.target.value)}\n                onKeyDown={handleKeyDown}\n                disabled={isSending}\n            />\n            \n            <button \n                className=\"send-btn\" \n                onClick={sendMessage} \n               \n                disabled={isSending || (!message.trim() && !attachedDocumentId)}\n            >\n                <FiSend />\n            </button>\n            \n        </div>\n    );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;AAIe,SAAS,UAAU,EAAE,kBAAkB,EAAE,kBAAkB,EAAE,aAAa,EAAE,kBAAkB,EAAE,qBAAqB,EAAE;IAClI,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,MAAM,cAAc;QAEhB,MAAM,aAAa,QAAQ,IAAI;QAC/B,IAAI,CAAC,sBAAuB,CAAC,cAAc,CAAC,sBAAuB,WAAW;QAE9E,aAAa;QACb,WAAW;QACX,gBAAgB;YACZ,QAAQ;YACR,SAAS;YACT,IAAI,OAAO,UAAU;QACzB;QAEA,IAAI;YACA,MAAM,iBAAiB,oBAAoB,OAAO,oBAAoB;YAEtE,MAAM,OAAO,MAAM,wHAAG,CAAC,WAAW,CAAC,YAAY,gBAAgB;YAE/D,sBAAsB;YAEtB,gBAAgB;gBACZ,QAAQ;gBACR,SAAS,MAAM,mBAAmB,MAAM,WAAW,MAAM,YAAY;gBACrE,IAAI,OAAO,UAAU;gBACrB,uBAAuB,MAAM;YACjC;QAEJ,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,4BAA4B;YAE1C,MAAM,eAAe,qBACf,oEACA;YAEN,gBAAgB;gBACZ,QAAQ;gBACR,SAAS;gBACT,IAAI,OAAO,UAAU;YACzB;QACJ,SAAU;YACN,aAAa;QACjB;IACJ;IAEA,MAAM,gBAAgB,CAAC;QACnB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YAClC,EAAE,cAAc;YAChB;QACJ;IACJ;IAEA,MAAM,kBAAkB,qBAClB,CAAC,mBAAmB,EAAE,mBAAmB,SAAS,CAAC,GAAG,GAAG,6BAA6B,CAAC,GACtF,YAAY,2BAA2B;IAE9C,qBAEI,8OAAC;QAAI,WAAW,CAAC,WAAW,EAAE,qBAAqB,mBAAmB,IAAI;;0BACtE,8OAAC;gBACG,WAAU;gBACV,SAAS;gBACT,UAAU;0BAGV,cAAA,8OAAC,wJAAM;oBAAC,WAAW,qBAAqB,kBAAkB;;;;;;;;;;;0BAG9D,8OAAC;gBACG,MAAK;gBACL,aAAa;gBACb,OAAO;gBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gBAC1C,WAAW;gBACX,UAAU;;;;;;0BAGd,8OAAC;gBACG,WAAU;gBACV,SAAS;gBAET,UAAU,aAAc,CAAC,QAAQ,IAAI,MAAM,CAAC;0BAE5C,cAAA,8OAAC,wJAAM;;;;;;;;;;;;;;;;AAKvB","debugId":null}},
    {"offset": {"line": 769, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/app/chat/page.js"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport SidebarItem from \"../../components/SidebarItem\";\nimport Modal from \"../../components/Modal\";\nimport AddFileModal from \"../../components/AddFileModal\";\nimport MenuPerfil from \"../../components/MenuPerfil\";\nimport InputChat from \"../../components/InputChat\";\nimport { FaUserCircle } from \"react-icons/fa\";\nimport { api } from \"../../api/Api\";\nimport \"../../style/chat.css\";\n\nexport default function ChatPage() {\n  const [conversations, setConversations] = useState([]);\n  const [activeConversation, setActiveConversation] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [user, setUser] = useState({ name: \"Carregando...\", email: \"carregando@email.com\" });\n  const [modal, setModal] = useState(null);\n  const [showMenuPerfil, setShowMenuPerfil] = useState(false);\n  const [showAddFileModal, setShowAddFileModal] = useState(false);\n\n  //  Para gerenciar o ID do documento anexado\n  const [attachedDocumentId, setAttachedDocumentId] = useState(null);\n\n  const chatContainerRef = useRef(null);\n\n  // Carrega conversas e usuário ao abrir\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        if (!token) return;\n\n        const [convData, userData] = await Promise.all([\n          api.getConversations(),\n          api.getProfile(),\n        ]);\n\n        setConversations(convData);\n        setUser({ name: userData.name, email: userData.email });\n\n        if (convData.length) selectConversation(convData[0]);\n        else {\n          const newConvData = await api.sendMessage(\"Olá, TPF-AI!\");\n          setConversations(prev => [newConvData.conversation, ...prev]);\n          selectConversation(newConvData.conversation);\n        }\n      } catch (err) {\n        console.error(\"Erro ao carregar chat:\", err.message);\n      }\n    };\n    load();\n  }, []);\n\n\n  useEffect(() => {\n    if (chatContainerRef.current)\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n  }, [messages]);\n\n  const selectConversation = async (conversation) => {\n    setActiveConversation(conversation);\n    setAttachedDocumentId(null);\n    try {\n      const history = await api.getConversationHistory(conversation._id || conversation.id);\n      setMessages(history || []);\n    } catch {\n      setMessages([]);\n    }\n  };\n\n  // Funções de renomear e excluir\n  const handleRenameConversation = async (conversationId, newTitle) => {\n    if (!conversationId || !newTitle) return alert(\"Título obrigatório\");\n\n    try {\n      await api.renameConversation(conversationId, newTitle);\n      setConversations(prev =>\n        prev.map(c => (c._id === conversationId ? { ...c, title: newTitle } : c))\n      );\n      closeModal();\n    } catch (err) {\n      alert(\"Erro ao renomear: \" + err.message);\n    }\n  };\n\n  const handleDeleteConversation = async (conversationId) => {\n    if (!conversationId) return alert(\"ID da conversa não encontrado\");\n\n    try {\n      await api.deleteConversation(conversationId);\n      const newConversations = conversations.filter(c => c._id !== conversationId);\n      setConversations(newConversations);\n\n      if (activeConversation && activeConversation._id === conversationId) {\n        selectConversation(newConversations[0] || null);\n      }\n      closeModal();\n    } catch (err) {\n      alert(\"Erro ao excluir: \" + err.message);\n    }\n  };\n\n\n  const handleNewMessage = (msg) => setMessages(prev => [...prev, msg]);\n  const closeModal = () => setModal(null);\n  const onLogout = () => (window.location.href = \"/auth/login\");\n\n  const handleFileUploaded = (documentId) => {\n    setAttachedDocumentId(documentId);\n    setShowAddFileModal(false);\n    alert(`Documento anexado! Digite sua instrução e envie.`);\n  };\n\n  return (\n    <div className=\"chat-container\">\n      {/* Sidebar */}\n      <aside className=\"sidebar\">\n        <h1 className=\"logo\">TPF<span>-AI</span></h1>\n\n        <button\n          className=\"new-chat\"\n          onClick={async () => {\n            try {\n              setActiveConversation(null);\n              setMessages([]);\n              setAttachedDocumentId(null);\n\n              const apiResponse = await api.sendMessage(\"Novo chat iniciado\");\n\n              if (!apiResponse || !apiResponse.conversation_id) {\n                throw new Error(\"API não retornou o ID da nova conversa.\");\n              }\n              const newConvList = await api.getConversations();\n              const newConversation = newConvList.find(c => c._id === apiResponse.conversation_id) || newConvList[0];\n\n              if (!newConversation) {\n                throw new Error(\"Falha ao recuperar os dados da nova conversa.\");\n              }\n\n              setConversations(newConvList); \n              selectConversation(newConversation);\n\n            } catch (err) {\n              console.error(\"Erro ao criar novo chat:\", err.message);\n            }\n          }}\n        >\n          + Novo Chat\n        </button>\n\n        <h4>Histórico</h4>\n        <div className=\"chat-list\">\n          {conversations\n            .filter(conv => conv && conv._id)\n            .map((conv) => (\n              <SidebarItem\n                key={conv._id}\n                conversation={conv}\n                onRename={(conversation) =>\n                  setModal({ type: \"renomear\", chat: conversation })\n                }\n                onDelete={(conversation) =>\n                  setModal({ type: \"excluir\", chat: conversation })\n                }\n                onSelect={selectConversation}\n                isActive={activeConversation && activeConversation._id === conv._id}\n              />\n            ))}\n        </div>\n\n\n        <div className=\"user-profile\" onClick={() => setShowMenuPerfil(!showMenuPerfil)}>\n          <div className=\"user-icon-container\"><FaUserCircle size={32} color=\"#000000ff\" /></div>\n          <span>{user.name}</span>\n          {showMenuPerfil && <MenuPerfil onLogout={onLogout} userEmail={user.email} />}\n        </div>\n      </aside>\n\n      {/* Chat principal */}\n      <main className=\"chat-main\">\n        <div className=\"chat-messages\" ref={chatContainerRef}>\n          {messages.map(msg => (\n            <div key={msg._id || msg.id} className={`message-bubble ${msg.role === \"user\" ? \"user\" : \"bot\"}`}>\n              {msg.content}\n              {msg.generated_document_id && (\n                <DocumentLink documentId={msg.generated_document_id} />\n              )}\n            </div>\n          ))}\n\n        </div>\n\n        <InputChat\n          activeConversation={activeConversation}\n          onMessageSent={handleNewMessage}\n          onOpenAddFileModal={() => setShowAddFileModal(true)}\n          attachedDocumentId={attachedDocumentId}\n          setAttachedDocumentId={setAttachedDocumentId}\n        />\n      </main>\n\n      {/* Modais */}\n      {modal && modal.chat && (\n        <Modal\n          type={modal.type}\n          chatTitle={modal.chat.title}\n          onClose={closeModal}\n          onConfirm={\n            modal.type === \"renomear\"\n              ? (newTitle) => handleRenameConversation(modal.chat._id, newTitle)\n              : () => handleDeleteConversation(modal.chat._id)\n          }\n        />\n      )}\n\n      {showAddFileModal && (\n        <AddFileModal\n          onClose={() => setShowAddFileModal(false)}\n          activeConversation={activeConversation}\n\n          onFileUploaded={handleFileUploaded}\n        />\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}