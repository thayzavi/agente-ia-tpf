{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/SidebarItem.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { FiEdit, FiTrash2 } from \"react-icons/fi\";\nimport \"../style/side-bar-Item.css\";\n\nexport default function SidebarItem({\n  conversation,\n  onRename,\n  onDelete,\n  onSelect,\n  isActive,\n}) {\n  const [showMenu, setShowMenu] = useState(false);\n  const [position, setPosition] = useState({ top: 0, left: 0 });\n  const buttonRef = useRef(null); // referência do botão \"⋮\"\n  const menuRef = useRef(null); // referência do dropdown (portal)\n\n  const openMenu = (e) => {\n    e.stopPropagation();\n    if (buttonRef.current) {\n      const rect = buttonRef.current.getBoundingClientRect();\n      setPosition({\n        top: rect.top + window.scrollY,   // posição no documento\n        left: rect.right + 12,            // à direita da sidebar\n      });\n    }\n    setShowMenu(true);\n  };\n\n  const closeMenu = () => setShowMenu(false);\n\n  const toggleMenu = (e) => {\n    e.stopPropagation();\n    if (showMenu) closeMenu();\n    else openMenu(e);\n  };\n\n  const handleRename = (e) => {\n    e.stopPropagation();\n    // opcional: console.log para debug\n    // console.log(\"clicou renomear\", conversation);\n    onRename?.(conversation);\n    closeMenu();\n  };\n\n  const handleDelete = (e) => {\n    e.stopPropagation();\n    // console.log(\"clicou excluir\", conversation);\n    onDelete?.(conversation);\n    closeMenu();\n  };\n\n  // Fecha ao clicar fora OU tocar (considera menuRef + buttonRef)\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      const target = e.target;\n      // se não está nem no botão nem no menu, fechar\n      if (\n        buttonRef.current &&\n        !buttonRef.current.contains(target) &&\n        menuRef.current &&\n        !menuRef.current.contains(target)\n      ) {\n        setShowMenu(false);\n      }\n    };\n\n    const handleEscape = (e) => {\n      if (e.key === \"Escape\") setShowMenu(false);\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    document.addEventListener(\"touchstart\", handleClickOutside);\n    document.addEventListener(\"keydown\", handleEscape);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n      document.removeEventListener(\"touchstart\", handleClickOutside);\n      document.removeEventListener(\"keydown\", handleEscape);\n    };\n  }, []);\n\n  // Atualiza posição se a janela rolar ou redimensionar enquanto o menu está aberto\n  useEffect(() => {\n    if (!showMenu) return;\n    const updatePos = () => {\n      if (!buttonRef.current) return;\n      const rect = buttonRef.current.getBoundingClientRect();\n      setPosition({\n        top: rect.top + window.scrollY,\n        left: rect.right + 12,\n      });\n    };\n    window.addEventListener(\"scroll\", updatePos, { passive: true });\n    window.addEventListener(\"resize\", updatePos);\n    return () => {\n      window.removeEventListener(\"scroll\", updatePos);\n      window.removeEventListener(\"resize\", updatePos);\n    };\n  }, [showMenu]);\n\n  return (\n    <>\n      <div\n        className={`sidebar-item ${isActive ? \"active\" : \"\"}`}\n        onClick={() => onSelect?.(conversation)}\n      >\n        <span className=\"sidebar-text\">\n          {conversation.title || \"Chat sem nome\"}\n        </span>\n\n        {/* botão que abre o menu */}\n        <div\n          className=\"dots-menu\"\n          ref={buttonRef}\n          onClick={toggleMenu}\n          role=\"button\"\n          aria-haspopup=\"menu\"\n          aria-expanded={showMenu}\n        >\n          <span className=\"dots\">⋮</span>\n        </div>\n      </div>\n\n      {/* portal do dropdown - menuRef permite detectar cliques dentro dele */}\n      {showMenu &&\n        createPortal(\n          <div\n            className=\"floating-dropdown\"\n            ref={menuRef}\n            style={{\n              position: \"absolute\",\n              top: `${position.top}px`,\n              left: `${position.left}px`,\n              zIndex: 99999,\n            }}\n            role=\"menu\"\n          >\n            <p\n              onClick={handleRename}\n              role=\"menuitem\"\n              tabIndex={0}\n              onKeyDown={(e) =>\n                (e.key === \"Enter\" || e.key === \" \") && handleRename(e)\n              }\n            >\n              <FiEdit className=\"icon\" /> Renomear\n            </p>\n            <p\n              onClick={handleDelete}\n              role=\"menuitem\"\n              tabIndex={0}\n              onKeyDown={(e) =>\n                (e.key === \"Enter\" || e.key === \" \") && handleDelete(e)\n              }\n            >\n              <FiTrash2 className=\"icon\" /> Excluir\n            </p>\n          </div>,\n          document.body\n        )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/Modal.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"../style/modal.css\";\n\nexport default function Modal({ type, chatTitle, onClose, onConfirm }) {\n  const [newTitle, setNewTitle] = useState(chatTitle || \"\");\n  const inputRef = useRef(null);\n  const isRename = type === \"renomear\";\n  const isDelete = type === \"excluir\";\n\n  useEffect(() => {\n    if (isRename) inputRef.current?.focus();\n\n    const handleEsc = (e) => {\n      if (e.key === \"Escape\") onClose();\n    };\n    document.addEventListener(\"keydown\", handleEsc);\n    return () => document.removeEventListener(\"keydown\", handleEsc);\n  }, [isRename, onClose]);\n\n  const handleConfirm = () => {\n    if (isRename && !newTitle.trim()) return;\n    onConfirm(isRename ? newTitle.trim() : undefined);\n  };\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal modal-animate\" role=\"dialog\" aria-modal=\"true\">\n        {isDelete && <p>Deseja realmente excluir o chat \"{chatTitle}\" ? Essa ação é irreversível e as mensagens\n              desse chat serão apagadas</p>}\n        {isRename && (\n          <>\n            <p>Renomear chat:</p>\n            <input\n              ref={inputRef}\n              type=\"text\"\n              value={newTitle}\n              onChange={(e) => setNewTitle(e.target.value)}\n              onKeyPress={(e) => e.key === \"Enter\" && handleConfirm()}\n              maxLength={50}\n            />\n          </>\n        )}\n        <div className=\"modal-actions\">\n          <button className=\"cancelar\" onClick={onClose}>Cancelar</button>\n        <button\n          className=\"confirm\"\n          onClick={() => onConfirm(isRename ? newTitle.trim() : undefined)}\n        >\n          {isDelete ? \"Confirmar Exclusão\" : \"Salvar Novo Nome\"}\n        </button>\n\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;;AAGe,SAAS,MAAM,KAAuC;QAAvC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,EAAE,GAAvC;;IAC5B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC,aAAa;IACtD,MAAM,WAAW,IAAA,uKAAM,EAAC;IACxB,MAAM,WAAW,SAAS;IAC1B,MAAM,WAAW,SAAS;IAE1B,IAAA,0KAAS;2BAAC;gBACM;YAAd,IAAI,WAAU,oBAAA,SAAS,OAAO,cAAhB,wCAAA,kBAAkB,KAAK;YAErC,MAAM;6CAAY,CAAC;oBACjB,IAAI,EAAE,GAAG,KAAK,UAAU;gBAC1B;;YACA,SAAS,gBAAgB,CAAC,WAAW;YACrC;mCAAO,IAAM,SAAS,mBAAmB,CAAC,WAAW;;QACvD;0BAAG;QAAC;QAAU;KAAQ;IAEtB,MAAM,gBAAgB;QACpB,IAAI,YAAY,CAAC,SAAS,IAAI,IAAI;QAClC,UAAU,WAAW,SAAS,IAAI,KAAK;IACzC;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;YAAsB,MAAK;YAAS,cAAW;;gBAC3D,0BAAY,6LAAC;;wBAAE;wBAAkC;wBAAU;;;;;;;gBAE3D,0BACC;;sCACE,6LAAC;sCAAE;;;;;;sCACH,6LAAC;4BACC,KAAK;4BACL,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4BAC3C,YAAY,CAAC,IAAM,EAAE,GAAG,KAAK,WAAW;4BACxC,WAAW;;;;;;;;8BAIjB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAO,WAAU;4BAAW,SAAS;sCAAS;;;;;;sCACjD,6LAAC;4BACC,WAAU;4BACV,SAAS,IAAM,UAAU,WAAW,SAAS,IAAI,KAAK;sCAErD,WAAW,uBAAuB;;;;;;;;;;;;;;;;;;;;;;;AAO7C;GApDwB;KAAA","debugId":null}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/api/Api.js"],"sourcesContent":["const API_BASE_URL = \"https://agente-ia-squad42.onrender.com\";\n\n// Função para pegar token do localStorage\nconst getToken = () => {\n  const token = localStorage.getItem(\"token\");\n  if (!token) throw new Error(\"Token não encontrado. Faça login novamente.\");\n  return token;\n};\n\n// Função para tratar respostas HTTP\nconst handleResponse = async (res) => {\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(`Erro ${res.status}: ${text || res.statusText}`);\n  }\n  try {\n    return res.json();\n  } catch {\n    return null;\n  }\n};\n\n// Função auxiliar para requisições com token\nconst fetchWithToken = async (url, options = {}) => {\n  const token = getToken();\n  const headers = { Authorization: `Bearer ${token}`, ...(options.headers || {}) };\n  const res = await fetch(url, { ...options, headers });\n  return handleResponse(res);\n};\n\nexport const api = {\n\n  /** ===================== AUTENTICAÇÃO ===================== */\n  login: async (email, password) => {\n    if (!email || !password) throw new Error(\"Email e senha são obrigatórios.\");\n    const res = await fetch(`${API_BASE_URL}/api/auth/login`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email, password }),\n    });\n    const data = await handleResponse(res);\n\n    if (data.access_token) {\n      localStorage.setItem(\"token\", data.access_token);\n    } else {\n      throw new Error(\"Token não retornado pelo servidor.\");\n    }\n\n    return data;\n  },\n\n  getProfile: async () => {\n    return fetchWithToken(`${API_BASE_URL}/api/auth/profile`);\n  },\n\n  /** ===================== CONVERSAS ===================== */\n  getConversations: async () => {\n    return fetchWithToken(`${API_BASE_URL}/api/chat/conversations`);\n  },\n\n  getConversationHistory: async (conversationId) => {\n    if (!conversationId) throw new Error(\"ID da conversa é obrigatório.\");\n    return fetchWithToken(`${API_BASE_URL}/api/chat/conversations/${conversationId}`);\n  },\n\n  renameConversation: async (conversationId, newTitle) => {\n    if (!conversationId || !newTitle) throw new Error(\"ID e título são obrigatórios\");\n    return fetchWithToken(`${API_BASE_URL}/api/chat/conversations/${conversationId}/rename`, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ new_title: newTitle }),\n    });\n  },\n\n  deleteConversation: async (conversationId) => {\n    if (!conversationId) throw new Error(\"ID da conversa obrigatório\");\n    return fetchWithToken(`${API_BASE_URL}/api/chat/conversations/${conversationId}`, {\n      method: \"DELETE\",\n    });\n  },\n\n  /** ===================== MENSAGENS ===================== */\n  sendMessage: async (prompt, conversationId = null, attachedDocumentId = null) => {\n    if (!prompt) throw new Error(\"Mensagem não pode ser vazia.\");\n    const url = `${API_BASE_URL}/api/chat/conversations`;\n\n    const requestBody = { prompt };\n    if (conversationId) requestBody.conversation_id = conversationId;\n    if (attachedDocumentId) requestBody.input_document_id = attachedDocumentId;\n\n    const data = await fetchWithToken(url, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(requestBody),\n    });\n\n    return data;\n  },\n\n  /** ===================== DOCUMENTOS ===================== */\n  uploadDocument: async (file) => {\n    if (!file) throw new Error(\"Arquivo não selecionado.\");\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    return fetchWithToken(`${API_BASE_URL}/api/documents/upload`, {\n      method: \"POST\",\n      body: formData,\n    });\n  },\n\n  downloadFile: async (gridfsFileId) => {\n    if (!gridfsFileId) throw new Error(\"ID do arquivo é obrigatório.\");\n    const token = getToken();\n    const res = await fetch(`${API_BASE_URL}/api/files/${gridfsFileId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    if (!res.ok) throw new Error(\"Falha ao baixar arquivo.\");\n    return res.blob();\n  },\n\n  /** ===================== TEMPLATES ===================== */\n  getTemplates: async () => { \n    return fetchWithToken(`${API_BASE_URL}/api/templates`);\n  },\n\n  uploadTemplate: async (file) => {\n    if (!file) throw new Error(\"Template não selecionado.\");\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    return fetchWithToken(`${API_BASE_URL}/api/templates/upload`, {\n      method: \"POST\",\n      body: formData,\n    });\n  },\n\n  /** ===================== DOCUMENTO + TEMPLATE ===================== */\n  generateDocument: async ({ template_id, document_id, prompt }) => {\n    if (!template_id || !document_id) throw new Error(\"Template e documento são obrigatórios.\");\n    return fetchWithToken(`${API_BASE_URL}/api/documents/generate`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        template_id,\n        document_id,\n        prompt,\n      }),\n    });\n  },\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 515, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/DocumentLink.js"],"sourcesContent":["import React from \"react\";\nimport { api } from \"../api/Api\";\n\nexport default function DocumentLink({ documentId, onRemove }) {\n  if (!documentId) return null;\n\n  const handleDownload = async () => {\n    try {\n      const blob = await api.downloadFile(documentId);\n      const url = window.URL.createObjectURL(blob);\n\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = `documento_${documentId}.pdf`; \n      document.body.appendChild(a);\n      a.click();\n\n      window.URL.revokeObjectURL(url);\n      a.remove();\n    } catch (err) {\n      alert(\"Erro ao baixar documento: \" + err.message);\n    }\n  };\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        backgroundColor: \"#f1f5f9\",\n        padding: \"6px 12px\",\n        borderRadius: \"8px\",\n        marginTop: \"8px\",\n      }}\n    >\n      <span style={{ flex: 1, fontSize: \"0.9rem\" }}>📎 Documento anexado</span>\n\n      <button\n        onClick={handleDownload}\n        style={{\n          marginRight: \"8px\",\n          backgroundColor: \"#2563eb\",\n          color: \"white\",\n          border: \"none\",\n          padding: \"4px 8px\",\n          borderRadius: \"6px\",\n          cursor: \"pointer\",\n          fontSize: \"0.8rem\",\n        }}\n      >\n        Baixar\n      </button>\n\n      {onRemove && (\n        <button\n          onClick={onRemove}\n          style={{\n            backgroundColor: \"#ef4444\",\n            color: \"white\",\n            border: \"none\",\n            padding: \"4px 8px\",\n            borderRadius: \"6px\",\n            cursor: \"pointer\",\n            fontSize: \"0.8rem\",\n          }}\n        >\n          Remover\n        </button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS,aAAa,KAAwB;QAAxB,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAxB;IACnC,IAAI,CAAC,YAAY,OAAO;IAExB,MAAM,iBAAiB;QACrB,IAAI;YACF,MAAM,OAAO,MAAM,2HAAG,CAAC,YAAY,CAAC;YACpC,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe,CAAC;YAEvC,MAAM,IAAI,SAAS,aAAa,CAAC;YACjC,EAAE,IAAI,GAAG;YACT,EAAE,QAAQ,GAAG,AAAC,aAAuB,OAAX,YAAW;YACrC,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,EAAE,KAAK;YAEP,OAAO,GAAG,CAAC,eAAe,CAAC;YAC3B,EAAE,MAAM;QACV,EAAE,OAAO,KAAK;YACZ,MAAM,+BAA+B,IAAI,OAAO;QAClD;IACF;IAEA,qBACE,6LAAC;QACC,OAAO;YACL,SAAS;YACT,YAAY;YACZ,iBAAiB;YACjB,SAAS;YACT,cAAc;YACd,WAAW;QACb;;0BAEA,6LAAC;gBAAK,OAAO;oBAAE,MAAM;oBAAG,UAAU;gBAAS;0BAAG;;;;;;0BAE9C,6LAAC;gBACC,SAAS;gBACT,OAAO;oBACL,aAAa;oBACb,iBAAiB;oBACjB,OAAO;oBACP,QAAQ;oBACR,SAAS;oBACT,cAAc;oBACd,QAAQ;oBACR,UAAU;gBACZ;0BACD;;;;;;YAIA,0BACC,6LAAC;gBACC,SAAS;gBACT,OAAO;oBACL,iBAAiB;oBACjB,OAAO;oBACP,QAAQ;oBACR,SAAS;oBACT,cAAc;oBACd,QAAQ;oBACR,UAAU;gBACZ;0BACD;;;;;;;;;;;;AAMT;KApEwB","debugId":null}},
    {"offset": {"line": 616, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/AddFileModal.js"],"sourcesContent":["// addfilemodal.js\n\nimport React, { useState, useEffect } from \"react\";\nimport { MdOutlineClose, MdDriveFolderUpload, MdGeneratingTokens } from \"react-icons/md\";\nimport { api } from \"../api/Api\";\nimport \"../style/add-file.css\";\n\nexport default function AddFileModal({ templates = [], onClose }) {\n    // Nota: Simplificamos o activeConversation, pois o foco é gerar o documento, não o chat state.\n    \n    const [selectedFile, setSelectedFile] = useState(null);\n    const [selectedTemplateId, setSelectedTemplateId] = useState(\"\");\n    const [promptText, setPromptText] = useState(\"\");\n    \n    // States de fluxo de processamento\n    const [isUploading, setIsUploading] = useState(false); \n    const [isGenerating, setIsGenerating] = useState(false); \n    const [error, setError] = useState(null);\n\n    const isProcessing = isUploading || isGenerating;\n    // Opcional: Arquivo OU Prompt, mas Template é obrigatório\n    const canGenerate = selectedTemplateId && (selectedFile || promptText.trim()) && !isProcessing;\n\n    // Inicializa com o primeiro template se houver\n    useEffect(() => {\n        if (templates && templates.length > 0 && !selectedTemplateId) {\n            setSelectedTemplateId(templates[0].id);\n        }\n    }, [templates]);\n\n    // Lida com a seleção de arquivo do <input type=\"file\">\n    const handleFileSelect = (e) => {\n        const file = e.target.files[0];\n        if (file) {\n            setSelectedFile(file);\n            setError(null);\n        }\n    };\n\n    // Função central para Orquestrar: Upload -> Geração -> Download\n    const handleGenerateDocument = async () => {\n        if (!canGenerate) {\n            setError(\"Selecione um template e forneça um arquivo OU uma instrução.\");\n            return;\n        }\n\n        setError(null);\n        let inputDocumentId = null;\n\n        try {\n            // 1. UPLOAD do Arquivo (Se o usuário selecionou um)\n            if (selectedFile) {\n                setIsUploading(true);\n                const uploadResponse = await api.uploadDocument(selectedFile);\n                inputDocumentId = uploadResponse.file_id || uploadResponse?.document?._id; \n                \n                if (!inputDocumentId) {\n                    throw new Error(\"Falha ao obter ID do documento após upload.\");\n                }\n                setIsUploading(false);\n            }\n\n            // 2. GERAÇÃO do Documento pela IA\n            setIsGenerating(true);\n            \n            const generateData = await api.generateDocument(\n                selectedTemplateId,\n                inputDocumentId,\n                promptText.trim()\n            );\n\n            const generatedFileId = generateData.file_id || generateData.document_id; \n\n            if (!generatedFileId) {\n                throw new Error(\"ID do documento gerado não recebido da API.\");\n            }\n            setIsGenerating(false);\n\n            // 3. DOWNLOAD do Arquivo Gerado (Reutiliza a lógica do DocumentLink)\n            const blob = await api.downloadFile(generatedFileId);\n            \n            const url = window.URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.href = url;\n            const templateName = templates.find(t => t.id === selectedTemplateId)?.nome || selectedTemplateId;\n            a.download = `Documento_Gerado_${templateName.replace(/\\s/g, '_')}.docx`; \n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a); \n            window.URL.revokeObjectURL(url); \n\n            alert(\"Documento gerado e download iniciado com sucesso!\");\n            onClose(); \n\n        } catch (err) {\n            console.error(\"Erro no processo de geração:\", err);\n            setError(err.message || \"Erro desconhecido ao gerar o documento.\"); \n            setIsUploading(false); \n            setIsGenerating(false);\n        }\n    };\n\n    return (\n        <div className=\"modal-overlay\">\n            <div className=\"modal add-file-modal modal-animate\">\n                <div className=\"modal-header\">\n                    <h3>Gerar Documento com Template</h3>\n                    <button className=\"close-modal-btn\" onClick={onClose} disabled={isProcessing}><MdOutlineClose /></button>\n                </div>\n                <div className=\"modal-content\">\n                    {error && <p className=\"error-message error-box\">{error}</p>}\n\n                    {/* 1. SELEÇÃO DO TEMPLATE */}\n                    <div className=\"template-select-group\">\n                        <label htmlFor=\"template-select\">Escolha o **Template Base**:</label>\n                        <select\n                            id=\"template-select\"\n                            value={selectedTemplateId}\n                            onChange={(e) => setSelectedTemplateId(e.target.value)}\n                            disabled={isProcessing || !templates.length}\n                        >\n                            {templates.length > 0 ? (\n                                templates.map((t) => (\n                                    <option key={t.id} value={t.id}>{t.nome}</option>\n                                ))\n                            ) : (\n                                <option value=\"\" disabled>Carregando Templates...</option>\n                            )}\n                        </select>\n                    </div>\n                    \n                    {/* 2. UPLOAD DO ARQUIVO DE ENTRADA (Opcional) */}\n                    <label className={`file-upload-label ${isProcessing ? \"disabled\" : \"\"}`} htmlFor=\"file-upload\">\n                        <MdDriveFolderUpload className=\"upload-icon\" />\n                        <span>\n                            {isProcessing ? \"Aguarde...\" : (selectedFile ? selectedFile.name : \"Clique para selecionar o **Arquivo de Dados** (Opcional)\")}\n                        </span>\n                        <input \n                            id=\"file-upload\"\n                            type=\"file\" \n                            onChange={handleFileSelect} \n                            disabled={isProcessing} \n                            style={{ display: \"none\" }} \n                        />\n                        {selectedFile && (\n                            <button className=\"remove-file-btn\" onClick={(e) => {e.stopPropagation(); setSelectedFile(null);}}>X</button>\n                        )}\n                    </label>\n\n                    {/* 3. PROMPT DE INSTRUÇÃO (Opcional) */}\n                    <div className=\"prompt-input-group\">\n                        <label htmlFor=\"prompt-text\">**Instrução** para a IA (Opcional):</label>\n                        <textarea\n                            id=\"prompt-text\"\n                            placeholder=\"Ex: 'Extraia o nome do contrato e a data de validade.' ou 'Escreva um resumo de 3 parágrafos e preencha o campo RESUMO.' (Obrigatório se não houver arquivo).\"\n                            value={promptText}\n                            onChange={(e) => setPromptText(e.target.value)}\n                            rows=\"3\"\n                            disabled={isProcessing}\n                        />\n                    </div>\n                </div>\n\n                {/* BOTÃO DE AÇÃO */}\n                <div className=\"modal-footer\">\n                    <button \n                        className=\"generate-btn\" \n                        onClick={handleGenerateDocument} \n                        disabled={!canGenerate}\n                    >\n                        {isUploading ? \"Enviando Arquivo...\" : \n                         isGenerating ? (<span><MdGeneratingTokens className=\"spinner-icon\" /> Gerando Documento...</span>) : \n                         \"Gerar Documento\"}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 940, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/MenuPerfil.js"],"sourcesContent":["import React from \"react\";\nimport \"../style/menu-perfil.css\";\n\nexport default function MenuPerfil({ onLogout, userEmail }) {\n  const handleLogout = () => {\n    if (typeof onLogout === \"function\") onLogout();\n  };\n\n  return (\n    <div className=\"profile-menu\">\n      <div className=\"profile-info\">\n        <span>{userEmail}</span>\n      </div>\n      <button className=\"profile-option\" onClick={handleLogout} type=\"button\">\n        <span>Sair</span>\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;AAGe,SAAS,WAAW,KAAuB;QAAvB,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAvB;IACjC,MAAM,eAAe;QACnB,IAAI,OAAO,aAAa,YAAY;IACtC;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;8BAAM;;;;;;;;;;;0BAET,6LAAC;gBAAO,WAAU;gBAAiB,SAAS;gBAAc,MAAK;0BAC7D,cAAA,6LAAC;8BAAK;;;;;;;;;;;;;;;;;AAId;KAfwB","debugId":null}},
    {"offset": {"line": 1004, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/InputChat.js"],"sourcesContent":["// chatinput.js\n\nimport React, { useState } from \"react\";\nimport { FiSend, FiPlus, FiX } from \"react-icons/fi\"; \nimport { api } from \"../api/Api\";\nimport \"../style/chat.css\";\n\nexport default function InputChat({ activeConversation, onOpenAddFileModal, onMessageSent, attachedDocumentId, setAttachedDocumentId }) {\n    const [message, setMessage] = useState(\"\");\n    const [isSending, setIsSending] = useState(false);\n    \n    // Simplificação: Em um app real, o nome do arquivo viria do state do ChatPage\n    const attachedFileName = attachedDocumentId ? `Arquivo ${attachedDocumentId.substring(0, 6)}...` : ''; \n\n    const handleRemoveAttachment = () => {\n        setAttachedDocumentId(null);\n    };\n\n    const sendMessage = async () => {\n        const userPrompt = message.trim();\n        if (!activeConversation || (!userPrompt && !attachedDocumentId) || isSending) return;\n\n        setIsSending(true);\n        setMessage(\"\");\n        \n        // 1. Mensagem do usuário\n        onMessageSent?.({\n            role: \"user\",\n            content: userPrompt,\n            id: crypto.randomUUID(),\n            document_attached_id: attachedDocumentId,\n            document_name: attachedDocumentId ? attachedFileName : undefined // Para exibir na bolha do chat\n        });\n\n        try {\n            const conversationId = activeConversation?._id || activeConversation?.id;\n\n            // 2. Chamada de API de Chat\n            const data = await api.sendMessage(userPrompt, conversationId, attachedDocumentId);\n            \n            handleRemoveAttachment(); // Remove o anexo após o envio (para que o próximo não o use)\n\n            // 3. Resposta do bot\n            onMessageSent?.({\n                role: \"bot\",\n                content: data?.message_content || data?.content || data?.mensagem || \"Resposta da IA não recebida.\",\n                id: crypto.randomUUID(),\n                generated_document_id: data?.document_id, \n            });\n\n        } catch (err) {\n            console.error(\"Erro ao enviar mensagem:\", err);\n            \n            const errorMessage = \"Erro de conexão ou servidor. Tente novamente.\";\n            onMessageSent?.({ role: \"bot\", content: errorMessage, id: crypto.randomUUID() });\n\n        } finally {\n            setIsSending(false);\n        }\n    };\n\n    const handleKeyDown = (e) => {\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            sendMessage();\n        }\n    };\n\n    const placeholderText = isSending ? \"Aguardando resposta...\" : \"Digite sua mensagem...\";\n\n    return (\n        <div className=\"input-area-wrapper\">\n            {/* Barra de visualização do anexo (como no ChatGPT) */}\n            {attachedDocumentId && (\n                <div className=\"attachment-bar\">\n                    <span className=\"attachment-name\">📎 {attachedFileName}</span>\n                    <button className=\"remove-attachment-btn\" onClick={handleRemoveAttachment} title=\"Remover anexo\">\n                        <FiX size={16} />\n                    </button>\n                </div>\n            )}\n            \n            {/* Input Principal */}\n            <div className=\"chat-input\">\n                <button\n                    className=\"add-file-btn\"\n                    onClick={onOpenAddFileModal}\n                    disabled={isSending}\n                >\n                    <FiPlus />\n                </button>\n                <input\n                    type=\"text\"\n                    placeholder={placeholderText}\n                    value={message}\n                    onChange={(e) => setMessage(e.target.value)}\n                    onKeyDown={handleKeyDown}\n                    disabled={isSending}\n                />\n                <button\n                    className=\"send-btn\"\n                    onClick={sendMessage}\n                    disabled={isSending || (!message.trim() && !attachedDocumentId)}\n                >\n                    <FiSend />\n                </button>\n            </div>\n        </div>\n    );\n}"],"names":[],"mappings":"AAAA,eAAe;;;;;;AAEf;AACA;AACA;;;;;;;AAGe,SAAS,UAAU,KAAoG;QAApG,EAAE,kBAAkB,EAAE,kBAAkB,EAAE,aAAa,EAAE,kBAAkB,EAAE,qBAAqB,EAAE,GAApG;;IAC9B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,8EAA8E;IAC9E,MAAM,mBAAmB,qBAAqB,AAAC,WAA6C,OAAnC,mBAAmB,SAAS,CAAC,GAAG,IAAG,SAAO;IAEnG,MAAM,yBAAyB;QAC3B,sBAAsB;IAC1B;IAEA,MAAM,cAAc;QAChB,MAAM,aAAa,QAAQ,IAAI;QAC/B,IAAI,CAAC,sBAAuB,CAAC,cAAc,CAAC,sBAAuB,WAAW;QAE9E,aAAa;QACb,WAAW;QAEX,yBAAyB;QACzB,0BAAA,oCAAA,cAAgB;YACZ,MAAM;YACN,SAAS;YACT,IAAI,OAAO,UAAU;YACrB,sBAAsB;YACtB,eAAe,qBAAqB,mBAAmB,UAAU,+BAA+B;QACpG;QAEA,IAAI;YACA,MAAM,iBAAiB,CAAA,+BAAA,yCAAA,mBAAoB,GAAG,MAAI,+BAAA,yCAAA,mBAAoB,EAAE;YAExE,4BAA4B;YAC5B,MAAM,OAAO,MAAM,2HAAG,CAAC,WAAW,CAAC,YAAY,gBAAgB;YAE/D,0BAA0B,6DAA6D;YAEvF,qBAAqB;YACrB,0BAAA,oCAAA,cAAgB;gBACZ,MAAM;gBACN,SAAS,CAAA,iBAAA,2BAAA,KAAM,eAAe,MAAI,iBAAA,2BAAA,KAAM,OAAO,MAAI,iBAAA,2BAAA,KAAM,QAAQ,KAAI;gBACrE,IAAI,OAAO,UAAU;gBACrB,qBAAqB,EAAE,iBAAA,2BAAA,KAAM,WAAW;YAC5C;QAEJ,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,4BAA4B;YAE1C,MAAM,eAAe;YACrB,0BAAA,oCAAA,cAAgB;gBAAE,MAAM;gBAAO,SAAS;gBAAc,IAAI,OAAO,UAAU;YAAG;QAElF,SAAU;YACN,aAAa;QACjB;IACJ;IAEA,MAAM,gBAAgB,CAAC;QACnB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YAClC,EAAE,cAAc;YAChB;QACJ;IACJ;IAEA,MAAM,kBAAkB,YAAY,2BAA2B;IAE/D,qBACI,6LAAC;QAAI,WAAU;;YAEV,oCACG,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAK,WAAU;;4BAAkB;4BAAI;;;;;;;kCACtC,6LAAC;wBAAO,WAAU;wBAAwB,SAAS;wBAAwB,OAAM;kCAC7E,cAAA,6LAAC,wJAAG;4BAAC,MAAM;;;;;;;;;;;;;;;;;0BAMvB,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,WAAU;wBACV,SAAS;wBACT,UAAU;kCAEV,cAAA,6LAAC,2JAAM;;;;;;;;;;kCAEX,6LAAC;wBACG,MAAK;wBACL,aAAa;wBACb,OAAO;wBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;wBAC1C,WAAW;wBACX,UAAU;;;;;;kCAEd,6LAAC;wBACG,WAAU;wBACV,SAAS;wBACT,UAAU,aAAc,CAAC,QAAQ,IAAI,MAAM,CAAC;kCAE5C,cAAA,6LAAC,2JAAM;;;;;;;;;;;;;;;;;;;;;;AAK3B;GAtGwB;KAAA","debugId":null}},
    {"offset": {"line": 1179, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/app/chat/page.js"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport SidebarItem from \"../../components/SidebarItem\";\nimport Modal from \"../../components/Modal\";\nimport DocumentLink from \"../../components/DocumentLink\";\nimport AddFileModal from \"../../components/AddFileModal\";\nimport MenuPerfil from \"../../components/MenuPerfil\";\nimport InputChat from \"../../components/InputChat\";\nimport { FaUserCircle } from \"react-icons/fa\";\nimport { api } from \"../../api/Api\";\nimport \"../../style/chat.css\";\n\nexport default function ChatPage() {\n  const [conversations, setConversations] = useState([]);\n  const [activeConversation, setActiveConversation] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [user, setUser] = useState({ name: \"Carregando...\", email: \"carregando@email.com\" });\n  const [modal, setModal] = useState(null);\n  const [showMenuPerfil, setShowMenuPerfil] = useState(false);\n  const [showAddFileModal, setShowAddFileModal] = useState(false);\n\n  //  Para gerenciar o ID do documento anexado\n  const [attachedDocumentId, setAttachedDocumentId] = useState(null);\n  const [templates, setTemplates] = useState([]);\n  const chatContainerRef = useRef(null);\n\n  // Carrega conversas e usuário ao abrir\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        if (!token) return;\n\n        const [convData, userData, templateData] = await Promise.all([\n          api.getConversations(),\n          api.getProfile(),\n          api.getTemplates(), // NOVO: Carrega os templates\n        ]);\n\n        setConversations(convData);\n        setUser({ name: userData.name, email: userData.email });\n        setTemplates(templateData); // Salva a lista de templates\n\n        if (convData.length) selectConversation(convData[0]);\n        else {\n          const newConvData = await api.sendMessage(\"Olá, TPF-AI!\");\n          setConversations(prev => [newConvData.conversation, ...prev]);\n          selectConversation(newConvData.conversation);\n        }\n      } catch (err) {\n        console.error(\"Erro ao carregar chat/templates:\", err.message);\n      }\n    };\n    load();\n  }, []);\n\n  useEffect(() => {\n    if (chatContainerRef.current)\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n  }, [messages]);\n\n  const selectConversation = async (conversation) => {\n    setActiveConversation(conversation);\n    setAttachedDocumentId(null); // Limpa anexo ao trocar de conversa\n    try {\n      const history = await api.getConversationHistory(conversation._id || conversation.id);\n      setMessages(history || []);\n    } catch {\n      setMessages([]);\n    }\n  };\n\n  // Funções de renomear e excluir\n  const handleRenameConversation = async (conversationId, newTitle) => {\n    if (!conversationId || !newTitle) return alert(\"Título obrigatório\");\n\n    try {\n      await api.renameConversation(conversationId, newTitle);\n      setConversations(prev =>\n        prev.map(c => (c._id === conversationId ? { ...c, title: newTitle } : c))\n      );\n      closeModal();\n    } catch (err) {\n      alert(\"Erro ao renomear: \" + err.message);\n    }\n  };\n\n  const handleDeleteConversation = async (conversationId) => {\n    if (!conversationId) return alert(\"ID da conversa não encontrado\");\n\n    try {\n      await api.deleteConversation(conversationId);\n      const newConversations = conversations.filter(c => c._id !== conversationId);\n      setConversations(newConversations);\n\n      if (activeConversation && activeConversation._id === conversationId) {\n        selectConversation(newConversations[0] || null);\n      }\n      closeModal();\n    } catch (err) {\n      alert(\"Erro ao excluir: \" + err.message);\n    }\n  };\n\n\n  const handleNewMessage = (msg) => setMessages(prev => [...prev, msg]);\n\n  useEffect(() => {\n    if (!activeConversation || messages.length === 0) return;\n    setConversations(prev =>\n      prev.map(conv =>\n        conv._id === activeConversation._id\n          ? { ...conv, lastMessage: messages[messages.length - 1].content }\n          : conv\n      )\n    );\n  }, [messages]);\n\n  const closeModal = () => setModal(null);\n  const onLogout = () => (window.location.href = \"/auth/login\");\n\n  const handleFileUploaded = (documentId) => {\n    setAttachedDocumentId(documentId);\n    setShowAddFileModal(false);\n    alert(`Documento anexado! Digite sua instrução e envie.`);\n  };\n\n  return (\n    <div className=\"chat-container\">\n      {/* Sidebar */}\n      <aside className=\"sidebar\">\n        <h1 className=\"logo\">TPF<span>-AI</span></h1>\n\n        <button\n          className=\"new-chat\"\n          onClick={async () => {\n            try {\n              setActiveConversation(null);\n              setMessages([]);\n              setAttachedDocumentId(null);\n\n              const apiResponse = await api.sendMessage(\"Novo chat iniciado\");\n\n              if (!apiResponse || !apiResponse.conversation_id) {\n                throw new Error(\"API não retornou o ID da nova conversa.\");\n              }\n              const newConvList = await api.getConversations();\n              const newConversation = newConvList.find(c => c._id === apiResponse.conversation_id) || newConvList[0];\n\n              if (!newConversation) {\n                throw new Error(\"Falha ao recuperar os dados da nova conversa.\");\n              }\n\n              setConversations(newConvList);\n              selectConversation(newConversation);\n\n            } catch (err) {\n              console.error(\"Erro ao criar novo chat:\", err.message);\n            }\n          }}\n        >\n          + Novo Chat\n        </button>\n\n        <h4>Histórico</h4>\n        <div className=\"chat-list\">\n          {conversations\n            .filter(conv => conv && conv._id)\n            .map((conv) => (\n              <SidebarItem\n                key={conv._id}\n                conversation={conv}\n                onRename={(conversation) =>\n                  setModal({ type: \"renomear\", chat: conversation })\n                }\n                onDelete={(conversation) =>\n                  setModal({ type: \"excluir\", chat: conversation })\n                }\n                onSelect={selectConversation}\n                isActive={activeConversation && activeConversation._id === conv._id}\n              />\n            ))}\n        </div>\n\n\n        <div className=\"user-profile\" onClick={() => setShowMenuPerfil(!showMenuPerfil)}>\n          <div className=\"user-icon-container\"><FaUserCircle size={32} color=\"#000000ff\" /></div>\n          <span>{user.name}</span>\n          {showMenuPerfil && <MenuPerfil onLogout={onLogout} userEmail={user.email} />}\n        </div>\n      </aside>\n\n      {/* Chat principal */}\n      <main className=\"chat-main\">\n        <div className=\"chat-messages\" ref={chatContainerRef}>\n          {messages.map(msg => (\n            <div key={msg._id || msg.id} className={`message-bubble ${msg.role === \"user\" ? \"user\" : \"bot\"}`}>\n              {msg.content}\n\n              {/* Documento ANEXADO pelo USUÁRIO (exibição na bolha de envio) */}\n              {msg.document_attached_id && msg.role === \"user\" && (\n                <DocumentLink\n                  documentId={msg.document_attached_id}\n                  fileName={msg.document_name || \"Arquivo de Entrada\"}\n                />\n              )}\n            </div>\n          ))}\n\n        </div>\n\n        <InputChat\n          activeConversation={activeConversation}\n          onMessageSent={handleNewMessage}\n          onOpenAddFileModal={() => setShowAddFileModal(true)}\n          attachedDocumentId={attachedDocumentId}\n          setAttachedDocumentId={setAttachedDocumentId}\n        />\n      </main>\n\n      {/* Modais */}\n      {modal && modal.chat && (\n        <Modal\n          type={modal.type}\n          chatTitle={modal.chat.title}\n          onClose={closeModal}\n          onConfirm={\n            modal.type === \"renomear\"\n              ? (newTitle) => handleRenameConversation(modal.chat._id, newTitle)\n              : () => handleDeleteConversation(modal.chat._id)\n          }\n        />\n      )}\n\n      {showAddFileModal && (\n        <AddFileModal\n          onClose={() => setShowAddFileModal(false)}\n          activeConversation={activeConversation}\n\n          onFileUploaded={handleFileUploaded}\n        />\n      )}\n      {showAddFileModal && (\n        <AddFileModal\n          onClose={() => setShowAddFileModal(false)}\n          templates={templates}\n        />\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;;;AAYe,SAAS;;IACtB,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC,EAAE;IACrD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,yKAAQ,EAAC;IAC7D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;QAAE,MAAM;QAAiB,OAAO;IAAuB;IACxF,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IACrD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAC;IAEzD,4CAA4C;IAC5C,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,yKAAQ,EAAC;IAC7D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAC7C,MAAM,mBAAmB,IAAA,uKAAM,EAAC;IAEhC,uCAAuC;IACvC,IAAA,0KAAS;8BAAC;YACR,MAAM;2CAAO;oBACX,IAAI;wBACF,MAAM,QAAQ,aAAa,OAAO,CAAC;wBACnC,IAAI,CAAC,OAAO;wBAEZ,MAAM,CAAC,UAAU,UAAU,aAAa,GAAG,MAAM,QAAQ,GAAG,CAAC;4BAC3D,2HAAG,CAAC,gBAAgB;4BACpB,2HAAG,CAAC,UAAU;4BACd,2HAAG,CAAC,YAAY;yBACjB;wBAED,iBAAiB;wBACjB,QAAQ;4BAAE,MAAM,SAAS,IAAI;4BAAE,OAAO,SAAS,KAAK;wBAAC;wBACrD,aAAa,eAAe,6BAA6B;wBAEzD,IAAI,SAAS,MAAM,EAAE,mBAAmB,QAAQ,CAAC,EAAE;6BAC9C;4BACH,MAAM,cAAc,MAAM,2HAAG,CAAC,WAAW,CAAC;4BAC1C;2DAAiB,CAAA,OAAQ;wCAAC,YAAY,YAAY;2CAAK;qCAAK;;4BAC5D,mBAAmB,YAAY,YAAY;wBAC7C;oBACF,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,oCAAoC,IAAI,OAAO;oBAC/D;gBACF;;YACA;QACF;6BAAG,EAAE;IAEL,IAAA,0KAAS;8BAAC;YACR,IAAI,iBAAiB,OAAO,EAC1B,iBAAiB,OAAO,CAAC,SAAS,GAAG,iBAAiB,OAAO,CAAC,YAAY;QAC9E;6BAAG;QAAC;KAAS;IAEb,MAAM,qBAAqB,OAAO;QAChC,sBAAsB;QACtB,sBAAsB,OAAO,oCAAoC;QACjE,IAAI;YACF,MAAM,UAAU,MAAM,2HAAG,CAAC,sBAAsB,CAAC,aAAa,GAAG,IAAI,aAAa,EAAE;YACpF,YAAY,WAAW,EAAE;QAC3B,EAAE,UAAM;YACN,YAAY,EAAE;QAChB;IACF;IAEA,gCAAgC;IAChC,MAAM,2BAA2B,OAAO,gBAAgB;QACtD,IAAI,CAAC,kBAAkB,CAAC,UAAU,OAAO,MAAM;QAE/C,IAAI;YACF,MAAM,2HAAG,CAAC,kBAAkB,CAAC,gBAAgB;YAC7C,iBAAiB,CAAA,OACf,KAAK,GAAG,CAAC,CAAA,IAAM,EAAE,GAAG,KAAK,iBAAiB;wBAAE,GAAG,CAAC;wBAAE,OAAO;oBAAS,IAAI;YAExE;QACF,EAAE,OAAO,KAAK;YACZ,MAAM,uBAAuB,IAAI,OAAO;QAC1C;IACF;IAEA,MAAM,2BAA2B,OAAO;QACtC,IAAI,CAAC,gBAAgB,OAAO,MAAM;QAElC,IAAI;YACF,MAAM,2HAAG,CAAC,kBAAkB,CAAC;YAC7B,MAAM,mBAAmB,cAAc,MAAM,CAAC,CAAA,IAAK,EAAE,GAAG,KAAK;YAC7D,iBAAiB;YAEjB,IAAI,sBAAsB,mBAAmB,GAAG,KAAK,gBAAgB;gBACnE,mBAAmB,gBAAgB,CAAC,EAAE,IAAI;YAC5C;YACA;QACF,EAAE,OAAO,KAAK;YACZ,MAAM,sBAAsB,IAAI,OAAO;QACzC;IACF;IAGA,MAAM,mBAAmB,CAAC,MAAQ,YAAY,CAAA,OAAQ;mBAAI;gBAAM;aAAI;IAEpE,IAAA,0KAAS;8BAAC;YACR,IAAI,CAAC,sBAAsB,SAAS,MAAM,KAAK,GAAG;YAClD;sCAAiB,CAAA,OACf,KAAK,GAAG;8CAAC,CAAA,OACP,KAAK,GAAG,KAAK,mBAAmB,GAAG,GAC/B;gCAAE,GAAG,IAAI;gCAAE,aAAa,QAAQ,CAAC,SAAS,MAAM,GAAG,EAAE,CAAC,OAAO;4BAAC,IAC9D;;;QAGV;6BAAG;QAAC;KAAS;IAEb,MAAM,aAAa,IAAM,SAAS;IAClC,MAAM,WAAW,IAAO,OAAO,QAAQ,CAAC,IAAI,GAAG;IAE/C,MAAM,qBAAqB,CAAC;QAC1B,sBAAsB;QACtB,oBAAoB;QACpB,MAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAM,WAAU;;kCACf,6LAAC;wBAAG,WAAU;;4BAAO;0CAAG,6LAAC;0CAAK;;;;;;;;;;;;kCAE9B,6LAAC;wBACC,WAAU;wBACV,SAAS;4BACP,IAAI;gCACF,sBAAsB;gCACtB,YAAY,EAAE;gCACd,sBAAsB;gCAEtB,MAAM,cAAc,MAAM,2HAAG,CAAC,WAAW,CAAC;gCAE1C,IAAI,CAAC,eAAe,CAAC,YAAY,eAAe,EAAE;oCAChD,MAAM,IAAI,MAAM;gCAClB;gCACA,MAAM,cAAc,MAAM,2HAAG,CAAC,gBAAgB;gCAC9C,MAAM,kBAAkB,YAAY,IAAI,CAAC,CAAA,IAAK,EAAE,GAAG,KAAK,YAAY,eAAe,KAAK,WAAW,CAAC,EAAE;gCAEtG,IAAI,CAAC,iBAAiB;oCACpB,MAAM,IAAI,MAAM;gCAClB;gCAEA,iBAAiB;gCACjB,mBAAmB;4BAErB,EAAE,OAAO,KAAK;gCACZ,QAAQ,KAAK,CAAC,4BAA4B,IAAI,OAAO;4BACvD;wBACF;kCACD;;;;;;kCAID,6LAAC;kCAAG;;;;;;kCACJ,6LAAC;wBAAI,WAAU;kCACZ,cACE,MAAM,CAAC,CAAA,OAAQ,QAAQ,KAAK,GAAG,EAC/B,GAAG,CAAC,CAAC,qBACJ,6LAAC,8IAAW;gCAEV,cAAc;gCACd,UAAU,CAAC,eACT,SAAS;wCAAE,MAAM;wCAAY,MAAM;oCAAa;gCAElD,UAAU,CAAC,eACT,SAAS;wCAAE,MAAM;wCAAW,MAAM;oCAAa;gCAEjD,UAAU;gCACV,UAAU,sBAAsB,mBAAmB,GAAG,KAAK,KAAK,GAAG;+BAT9D,KAAK,GAAG;;;;;;;;;;kCAerB,6LAAC;wBAAI,WAAU;wBAAe,SAAS,IAAM,kBAAkB,CAAC;;0CAC9D,6LAAC;gCAAI,WAAU;0CAAsB,cAAA,6LAAC,iKAAY;oCAAC,MAAM;oCAAI,OAAM;;;;;;;;;;;0CACnE,6LAAC;0CAAM,KAAK,IAAI;;;;;;4BACf,gCAAkB,6LAAC,6IAAU;gCAAC,UAAU;gCAAU,WAAW,KAAK,KAAK;;;;;;;;;;;;;;;;;;0BAK5E,6LAAC;gBAAK,WAAU;;kCACd,6LAAC;wBAAI,WAAU;wBAAgB,KAAK;kCACjC,SAAS,GAAG,CAAC,CAAA,oBACZ,6LAAC;gCAA4B,WAAW,AAAC,kBAAsD,OAArC,IAAI,IAAI,KAAK,SAAS,SAAS;;oCACtF,IAAI,OAAO;oCAGX,IAAI,oBAAoB,IAAI,IAAI,IAAI,KAAK,wBACxC,6LAAC,+IAAY;wCACX,YAAY,IAAI,oBAAoB;wCACpC,UAAU,IAAI,aAAa,IAAI;;;;;;;+BAP3B,IAAI,GAAG,IAAI,IAAI,EAAE;;;;;;;;;;kCAe/B,6LAAC,4IAAS;wBACR,oBAAoB;wBACpB,eAAe;wBACf,oBAAoB,IAAM,oBAAoB;wBAC9C,oBAAoB;wBACpB,uBAAuB;;;;;;;;;;;;YAK1B,SAAS,MAAM,IAAI,kBAClB,6LAAC,wIAAK;gBACJ,MAAM,MAAM,IAAI;gBAChB,WAAW,MAAM,IAAI,CAAC,KAAK;gBAC3B,SAAS;gBACT,WACE,MAAM,IAAI,KAAK,aACX,CAAC,WAAa,yBAAyB,MAAM,IAAI,CAAC,GAAG,EAAE,YACvD,IAAM,yBAAyB,MAAM,IAAI,CAAC,GAAG;;;;;;YAKtD,kCACC,6LAAC,+IAAY;gBACX,SAAS,IAAM,oBAAoB;gBACnC,oBAAoB;gBAEpB,gBAAgB;;;;;;YAGnB,kCACC,6LAAC,+IAAY;gBACX,SAAS,IAAM,oBAAoB;gBACnC,WAAW;;;;;;;;;;;;AAKrB;GA9OwB;KAAA","debugId":null}}]
}