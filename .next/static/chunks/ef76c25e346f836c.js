(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67789,o=>{"use strict";o.s(["api",()=>n]);let t="https://agente-ia-squad42.onrender.com",a=()=>{let o=localStorage.getItem("token");if(!o)throw Error("Token não encontrado. Faça login novamente.");return o},e=async o=>{if(!o.ok){let t=await o.text();throw Error("Erro ".concat(o.status,": ").concat(t||o.statusText))}try{return o.json()}catch(o){return null}},r=async function(o){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a(),n={Authorization:"Bearer ".concat(r),...t.headers||{}};return e(await fetch(o,{...t,headers:n}))},n={login:async(o,a)=>{if(!o||!a)throw Error("Email e senha são obrigatórios.");let r=await fetch("".concat(t,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:a})}),n=await e(r);if(n.access_token)localStorage.setItem("token",n.access_token);else throw Error("Token não retornado pelo servidor.");return n},getProfile:async()=>r("".concat(t,"/api/auth/profile")),getConversations:async()=>r("".concat(t,"/api/chat/conversations")),getConversationHistory:async o=>{if(!o)throw Error("ID da conversa é obrigatório.");return r("".concat(t,"/api/chat/conversations/").concat(o))},renameConversation:async(o,a)=>{if(!o||!a)throw Error("ID e título são obrigatórios");return r("".concat(t,"/api/chat/conversations/").concat(o,"/rename"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({new_title:a})})},deleteConversation:async o=>{if(!o)throw Error("ID da conversa obrigatório");return r("".concat(t,"/api/chat/conversations/").concat(o),{method:"DELETE"})},sendMessage:async function(o){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!o)throw Error("Mensagem não pode ser vazia.");let e={prompt:o};return a&&(e.conversation_id=a),await r("".concat(t,"/api/chat/conversations"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},uploadDocument:async o=>{if(!o)throw Error("Arquivo não selecionado.");let a=new FormData;return a.append("file",o),r("".concat(t,"/documents/upload"),{method:"POST",body:a})},downloadFile:async o=>{if(!o)throw Error("ID do arquivo é obrigatório.");let e=a(),r=await fetch("".concat(t,"/files/").concat(o),{headers:{Authorization:"Bearer ".concat(e)}});if(!r.ok)throw Error("Falha ao baixar arquivo.");return r.blob()}}}]);