(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67789,t=>{"use strict";t.s(["api",()=>r]);let o="https://agente-ia-squad42.onrender.com",e=()=>{let t=localStorage.getItem("token");if(!t)throw Error("Token não encontrado. Faça login novamente.");return t},a=async t=>{if(!t.ok){let o=await t.text();throw Error("Erro ".concat(t.status,": ").concat(o||t.statusText))}try{return t.json()}catch(t){return null}},n=async function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e(),r={Authorization:"Bearer ".concat(n),...o.headers||{}};return a(await fetch(t,{...o,headers:r}))},r={login:async(t,e)=>{if(!t||!e)throw Error("Email e senha são obrigatórios.");let n=await fetch("".concat(o,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})}),r=await a(n);if(r.access_token)localStorage.setItem("token",r.access_token);else throw Error("Token não retornado pelo servidor.");return r},register:async(t,e,n)=>{if(!t||!e||!n)throw Error("Nome completo, email e senha são obrigatórios.");return a(await fetch("".concat(o,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:e,password:n})}))},logout:()=>{localStorage.removeItem("token"),window.location.href="/auth/login"},getProfile:async()=>n("".concat(o,"/api/auth/profile")),getConversations:async()=>n("".concat(o,"/api/chat/conversations")),getConversationHistory:async t=>{if(!t)throw Error("ID da conversa é obrigatório.");return n("".concat(o,"/api/chat/conversations/").concat(t))},renameConversation:async(t,e)=>{if(!t||!e)throw Error("ID e título são obrigatórios");return n("".concat(o,"/api/chat/conversations/").concat(t,"/rename"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({new_title:e})})},deleteConversation:async t=>{if(!t)throw Error("ID da conversa obrigatório");return n("".concat(o,"/api/chat/conversations/").concat(t),{method:"DELETE"})},sendMessage:async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!t)throw Error("Mensagem não pode ser vazia.");let i={prompt:t};return e&&(i.conversation_id=e),a&&(i.input_document_id=a),r&&(i.template_id=r),await n("".concat(o,"/api/chat/conversations"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})},getTemplates:async()=>n("".concat(o,"/api/templates")),uploadDocument:async t=>{if(!t)throw Error("Arquivo não selecionado.");let e=new FormData;return e.append("file",t),n("".concat(o,"/api/documents/upload"),{method:"POST",body:e})},getDocuments:async()=>n("".concat(o,"/api/documents")),getDocumentMetadata:async t=>{if(!t)throw Error("ID do arquivo é obrigatório.");let a=e(),n=await fetch("".concat(o,"/api/files/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}});if(!n.ok){let t=n.status;throw Error("Falha ao baixar arquivo. ".concat("Erro HTTP: ".concat(t,".")))}return n.blob()}}}]);