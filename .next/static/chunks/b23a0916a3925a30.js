(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67789,t=>{"use strict";t.s(["api",()=>r]);let o="https://agente-ia-squad42.onrender.com",a=()=>{let t=localStorage.getItem("token");if(!t)throw Error("Token não encontrado. Faça login novamente.");return t},e=async t=>{if(!t.ok){let o=await t.text();throw Error("Erro ".concat(t.status,": ").concat(o||t.statusText))}try{return t.json()}catch(t){return null}},n=async function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a(),r={Authorization:"Bearer ".concat(n),...o.headers||{}};return e(await fetch(t,{...o,headers:r}))},r={login:async(t,a)=>{if(!t||!a)throw Error("Email e senha são obrigatórios.");let n=await fetch("".concat(o,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})}),r=await e(n);if(r.access_token)localStorage.setItem("token",r.access_token);else throw Error("Token não retornado pelo servidor.");return r},getProfile:async()=>n("".concat(o,"/api/auth/profile")),getConversations:async()=>n("".concat(o,"/api/chat/conversations")),getConversationHistory:async t=>{if(!t)throw Error("ID da conversa é obrigatório.");return n("".concat(o,"/api/chat/conversations/").concat(t))},renameConversation:async(t,a)=>{if(!t||!a)throw Error("ID e título são obrigatórios");return n("".concat(o,"/api/chat/conversations/").concat(t,"/rename"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({new_title:a})})},deleteConversation:async t=>{if(!t)throw Error("ID da conversa obrigatório");return n("".concat(o,"/api/chat/conversations/").concat(t),{method:"DELETE"})},sendMessage:async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!t)throw Error("Mensagem não pode ser vazia.");let c={prompt:t};return a&&(c.conversation_id=a),e&&(c.input_document_id=e),r&&(c.template_id=r),await n("".concat(o,"/api/chat/conversations"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})},getTemplates:async()=>n("".concat(o,"/api/templates")),uploadDocument:async t=>{if(!t)throw Error("Arquivo não selecionado.");let a=new FormData;return a.append("file",t),n("".concat(o,"/api/documents/upload"),{method:"POST",body:a})},getDocuments:async()=>n("".concat(o,"/api/documents")),getDocumentMetadata:async t=>{if(!t)throw Error("ID do arquivo é obrigatório.");let e=a(),n=await fetch("".concat(o,"/api/files/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});if(!n.ok){let t=n.status;throw Error("Falha ao baixar arquivo. ".concat("Erro HTTP: ".concat(t,".")))}return n.blob()}}}]);