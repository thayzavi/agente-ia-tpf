{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/SidebarItem.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { FiEdit, FiTrash2 } from \"react-icons/fi\";\nimport \"../style/side-bar-Item.css\";\n\nexport default function SidebarItem({\n  conversation,\n  onRename,\n  onDelete,\n  onSelect,\n  isActive,\n}) {\n  const [showMenu, setShowMenu] = useState(false);\n  const [position, setPosition] = useState({ top: 0, left: 0 });\n  const buttonRef = useRef(null); // referência do botão \"⋮\"\n  const menuRef = useRef(null); // referência do dropdown (portal)\n\n  const openMenu = (e) => {\n    e.stopPropagation();\n    if (buttonRef.current) {\n      const rect = buttonRef.current.getBoundingClientRect();\n      setPosition({\n        top: rect.top + window.scrollY,   // posição no documento\n        left: rect.right + 12,            // à direita da sidebar\n      });\n    }\n    setShowMenu(true);\n  };\n\n  const closeMenu = () => setShowMenu(false);\n\n  const toggleMenu = (e) => {\n    e.stopPropagation();\n    if (showMenu) closeMenu();\n    else openMenu(e);\n  };\n\n  const handleRename = (e) => {\n    e.stopPropagation();\n    // opcional: console.log para debug\n    // console.log(\"clicou renomear\", conversation);\n    onRename?.(conversation);\n    closeMenu();\n  };\n\n  const handleDelete = (e) => {\n    e.stopPropagation();\n    // console.log(\"clicou excluir\", conversation);\n    onDelete?.(conversation);\n    closeMenu();\n  };\n\n  // Fecha ao clicar fora OU tocar (considera menuRef + buttonRef)\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      const target = e.target;\n      // se não está nem no botão nem no menu, fechar\n      if (\n        buttonRef.current &&\n        !buttonRef.current.contains(target) &&\n        menuRef.current &&\n        !menuRef.current.contains(target)\n      ) {\n        setShowMenu(false);\n      }\n    };\n\n    const handleEscape = (e) => {\n      if (e.key === \"Escape\") setShowMenu(false);\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    document.addEventListener(\"touchstart\", handleClickOutside);\n    document.addEventListener(\"keydown\", handleEscape);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n      document.removeEventListener(\"touchstart\", handleClickOutside);\n      document.removeEventListener(\"keydown\", handleEscape);\n    };\n  }, []);\n\n  // Atualiza posição se a janela rolar ou redimensionar enquanto o menu está aberto\n  useEffect(() => {\n    if (!showMenu) return;\n    const updatePos = () => {\n      if (!buttonRef.current) return;\n      const rect = buttonRef.current.getBoundingClientRect();\n      setPosition({\n        top: rect.top + window.scrollY,\n        left: rect.right + 12,\n      });\n    };\n    window.addEventListener(\"scroll\", updatePos, { passive: true });\n    window.addEventListener(\"resize\", updatePos);\n    return () => {\n      window.removeEventListener(\"scroll\", updatePos);\n      window.removeEventListener(\"resize\", updatePos);\n    };\n  }, [showMenu]);\n\n  return (\n    <>\n      <div\n        className={`sidebar-item ${isActive ? \"active\" : \"\"}`}\n        onClick={() => onSelect?.(conversation)}\n      >\n        <span className=\"sidebar-text\">\n          {conversation.title || \"Chat sem nome\"}\n        </span>\n\n        {/* botão que abre o menu */}\n        <div\n          className=\"dots-menu\"\n          ref={buttonRef}\n          onClick={toggleMenu}\n          role=\"button\"\n          aria-haspopup=\"menu\"\n          aria-expanded={showMenu}\n        >\n          <span className=\"dots\">⋮</span>\n        </div>\n      </div>\n\n      {/* portal do dropdown - menuRef permite detectar cliques dentro dele */}\n      {showMenu &&\n        createPortal(\n          <div\n            className=\"floating-dropdown\"\n            ref={menuRef}\n            style={{\n              position: \"absolute\",\n              top: `${position.top}px`,\n              left: `${position.left}px`,\n              zIndex: 99999,\n            }}\n            role=\"menu\"\n          >\n            <p\n              onClick={handleRename}\n              role=\"menuitem\"\n              tabIndex={0}\n              onKeyDown={(e) =>\n                (e.key === \"Enter\" || e.key === \" \") && handleRename(e)\n              }\n            >\n              <FiEdit className=\"icon\" /> Renomear\n            </p>\n            <p\n              onClick={handleDelete}\n              role=\"menuitem\"\n              tabIndex={0}\n              onKeyDown={(e) =>\n                (e.key === \"Enter\" || e.key === \" \") && handleDelete(e)\n              }\n            >\n              <FiTrash2 className=\"icon\" /> Excluir\n            </p>\n          </div>,\n          document.body\n        )}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;;AAGe,SAAS,YAAY,KAMnC;QANmC,EAClC,YAAY,EACZ,QAAQ,EACR,QAAQ,EACR,QAAQ,EACR,QAAQ,EACT,GANmC;;IAOlC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;QAAE,KAAK;QAAG,MAAM;IAAE;IAC3D,MAAM,YAAY,IAAA,uKAAM,EAAC,OAAO,0BAA0B;IAC1D,MAAM,UAAU,IAAA,uKAAM,EAAC,OAAO,kCAAkC;IAEhE,MAAM,WAAW,CAAC;QAChB,EAAE,eAAe;QACjB,IAAI,UAAU,OAAO,EAAE;YACrB,MAAM,OAAO,UAAU,OAAO,CAAC,qBAAqB;YACpD,YAAY;gBACV,KAAK,KAAK,GAAG,GAAG,OAAO,OAAO;gBAC9B,MAAM,KAAK,KAAK,GAAG;YACrB;QACF;QACA,YAAY;IACd;IAEA,MAAM,YAAY,IAAM,YAAY;IAEpC,MAAM,aAAa,CAAC;QAClB,EAAE,eAAe;QACjB,IAAI,UAAU;aACT,SAAS;IAChB;IAEA,MAAM,eAAe,CAAC;QACpB,EAAE,eAAe;QACjB,mCAAmC;QACnC,gDAAgD;QAChD,qBAAA,+BAAA,SAAW;QACX;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,EAAE,eAAe;QACjB,+CAA+C;QAC/C,qBAAA,+BAAA,SAAW;QACX;IACF;IAEA,gEAAgE;IAChE,IAAA,0KAAS;iCAAC;YACR,MAAM;4DAAqB,CAAC;oBAC1B,MAAM,SAAS,EAAE,MAAM;oBACvB,+CAA+C;oBAC/C,IACE,UAAU,OAAO,IACjB,CAAC,UAAU,OAAO,CAAC,QAAQ,CAAC,WAC5B,QAAQ,OAAO,IACf,CAAC,QAAQ,OAAO,CAAC,QAAQ,CAAC,SAC1B;wBACA,YAAY;oBACd;gBACF;;YAEA,MAAM;sDAAe,CAAC;oBACpB,IAAI,EAAE,GAAG,KAAK,UAAU,YAAY;gBACtC;;YAEA,SAAS,gBAAgB,CAAC,aAAa;YACvC,SAAS,gBAAgB,CAAC,cAAc;YACxC,SAAS,gBAAgB,CAAC,WAAW;YACrC;yCAAO;oBACL,SAAS,mBAAmB,CAAC,aAAa;oBAC1C,SAAS,mBAAmB,CAAC,cAAc;oBAC3C,SAAS,mBAAmB,CAAC,WAAW;gBAC1C;;QACF;gCAAG,EAAE;IAEL,kFAAkF;IAClF,IAAA,0KAAS;iCAAC;YACR,IAAI,CAAC,UAAU;YACf,MAAM;mDAAY;oBAChB,IAAI,CAAC,UAAU,OAAO,EAAE;oBACxB,MAAM,OAAO,UAAU,OAAO,CAAC,qBAAqB;oBACpD,YAAY;wBACV,KAAK,KAAK,GAAG,GAAG,OAAO,OAAO;wBAC9B,MAAM,KAAK,KAAK,GAAG;oBACrB;gBACF;;YACA,OAAO,gBAAgB,CAAC,UAAU,WAAW;gBAAE,SAAS;YAAK;YAC7D,OAAO,gBAAgB,CAAC,UAAU;YAClC;yCAAO;oBACL,OAAO,mBAAmB,CAAC,UAAU;oBACrC,OAAO,mBAAmB,CAAC,UAAU;gBACvC;;QACF;gCAAG;QAAC;KAAS;IAEb,qBACE;;0BACE,6LAAC;gBACC,WAAW,AAAC,gBAAwC,OAAzB,WAAW,WAAW;gBACjD,SAAS,IAAM,qBAAA,+BAAA,SAAW;;kCAE1B,6LAAC;wBAAK,WAAU;kCACb,aAAa,KAAK,IAAI;;;;;;kCAIzB,6LAAC;wBACC,WAAU;wBACV,KAAK;wBACL,SAAS;wBACT,MAAK;wBACL,iBAAc;wBACd,iBAAe;kCAEf,cAAA,6LAAC;4BAAK,WAAU;sCAAO;;;;;;;;;;;;;;;;;YAK1B,0BACC,IAAA,oLAAY,gBACV,6LAAC;gBACC,WAAU;gBACV,KAAK;gBACL,OAAO;oBACL,UAAU;oBACV,KAAK,AAAC,GAAe,OAAb,SAAS,GAAG,EAAC;oBACrB,MAAM,AAAC,GAAgB,OAAd,SAAS,IAAI,EAAC;oBACvB,QAAQ;gBACV;gBACA,MAAK;;kCAEL,6LAAC;wBACC,SAAS;wBACT,MAAK;wBACL,UAAU;wBACV,WAAW,CAAC,IACV,CAAC,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,GAAG,KAAK,aAAa;;0CAGvD,6LAAC,2JAAM;gCAAC,WAAU;;;;;;4BAAS;;;;;;;kCAE7B,6LAAC;wBACC,SAAS;wBACT,MAAK;wBACL,UAAU;wBACV,WAAW,CAAC,IACV,CAAC,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,GAAG,KAAK,aAAa;;0CAGvD,6LAAC,6JAAQ;gCAAC,WAAU;;;;;;4BAAS;;;;;;;;;;;;sBAGjC,SAAS,IAAI;;;AAIvB;GA7JwB;KAAA","debugId":null}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/Modal.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"../style/modal.css\";\n\nexport default function Modal({ type, chatTitle, onClose, onConfirm }) {\n  const [newTitle, setNewTitle] = useState(chatTitle || \"\");\n  const inputRef = useRef(null);\n  const isRename = type === \"renomear\";\n  const isDelete = type === \"excluir\";\n\n  useEffect(() => {\n    if (isRename) inputRef.current?.focus();\n\n    const handleEsc = (e) => {\n      if (e.key === \"Escape\") onClose();\n    };\n    document.addEventListener(\"keydown\", handleEsc);\n    return () => document.removeEventListener(\"keydown\", handleEsc);\n  }, [isRename, onClose]);\n\n  const handleConfirm = () => {\n    if (isRename && !newTitle.trim()) return;\n    onConfirm(isRename ? newTitle.trim() : undefined);\n  };\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal modal-animate\" role=\"dialog\" aria-modal=\"true\">\n        {isDelete && <p>Deseja realmente excluir o chat \"{chatTitle}\" ? Essa ação é irreversível e as mensagens\n              desse chat serão apagadas</p>}\n        {isRename && (\n          <>\n            <p>Renomear chat:</p>\n            <input\n              ref={inputRef}\n              type=\"text\"\n              value={newTitle}\n              onChange={(e) => setNewTitle(e.target.value)}\n              onKeyPress={(e) => e.key === \"Enter\" && handleConfirm()}\n              maxLength={50}\n            />\n          </>\n        )}\n        <div className=\"modal-actions\">\n          <button className=\"cancelar\" onClick={onClose}>Cancelar</button>\n        <button\n          className=\"confirm\"\n          onClick={() => onConfirm(isRename ? newTitle.trim() : undefined)}\n        >\n          {isDelete ? \"Confirmar Exclusão\" : \"Salvar Novo Nome\"}\n        </button>\n\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;;AAGe,SAAS,MAAM,KAAuC;QAAvC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,EAAE,GAAvC;;IAC5B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC,aAAa;IACtD,MAAM,WAAW,IAAA,uKAAM,EAAC;IACxB,MAAM,WAAW,SAAS;IAC1B,MAAM,WAAW,SAAS;IAE1B,IAAA,0KAAS;2BAAC;gBACM;YAAd,IAAI,WAAU,oBAAA,SAAS,OAAO,cAAhB,wCAAA,kBAAkB,KAAK;YAErC,MAAM;6CAAY,CAAC;oBACjB,IAAI,EAAE,GAAG,KAAK,UAAU;gBAC1B;;YACA,SAAS,gBAAgB,CAAC,WAAW;YACrC;mCAAO,IAAM,SAAS,mBAAmB,CAAC,WAAW;;QACvD;0BAAG;QAAC;QAAU;KAAQ;IAEtB,MAAM,gBAAgB;QACpB,IAAI,YAAY,CAAC,SAAS,IAAI,IAAI;QAClC,UAAU,WAAW,SAAS,IAAI,KAAK;IACzC;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;YAAsB,MAAK;YAAS,cAAW;;gBAC3D,0BAAY,6LAAC;;wBAAE;wBAAkC;wBAAU;;;;;;;gBAE3D,0BACC;;sCACE,6LAAC;sCAAE;;;;;;sCACH,6LAAC;4BACC,KAAK;4BACL,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4BAC3C,YAAY,CAAC,IAAM,EAAE,GAAG,KAAK,WAAW;4BACxC,WAAW;;;;;;;;8BAIjB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAO,WAAU;4BAAW,SAAS;sCAAS;;;;;;sCACjD,6LAAC;4BACC,WAAU;4BACV,SAAS,IAAM,UAAU,WAAW,SAAS,IAAI,KAAK;sCAErD,WAAW,uBAAuB;;;;;;;;;;;;;;;;;;;;;;;AAO7C;GApDwB;KAAA","debugId":null}},
    {"offset": {"line": 355, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/api/Api.js"],"sourcesContent":["const API_BASE_URL = \"https://agente-ia-squad42.onrender.com\";\n\n// Função para pegar token do localStorage\nconst getToken = () => {\n  const token = localStorage.getItem(\"token\");\n  if (!token) throw new Error(\"Token não encontrado. Faça login novamente.\");\n  return token;\n};\n\n// Função para tratar respostas HTTP\nconst handleResponse = async (res) => {\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(`Erro ${res.status}: ${text || res.statusText}`);\n  }\n  try {\n    return res.json();\n  } catch {\n    return null;\n  }\n};\n\n// Função auxiliar para requisições com token\nconst fetchWithToken = async (url, options = {}) => {\n  const token = getToken();\n  const headers = { Authorization: `Bearer ${token}`, ...(options.headers || {}) };\n  const res = await fetch(url, { ...options, headers });\n  return handleResponse(res);\n};\n\nexport const api = {\n\n\n  /** ===================== AUTENTICAÇÃO ===================== */\n  login: async (email, password) => {\n    if (!email || !password) throw new Error(\"Email e senha são obrigatórios.\");\n    const res = await fetch(`${API_BASE_URL}/api/auth/login`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email, password }),\n    });\n    const data = await handleResponse(res);\n\n    if (data.access_token) {\n      localStorage.setItem(\"token\", data.access_token);\n    } else {\n      throw new Error(\"Token não retornado pelo servidor.\");\n    }\n\n    return data;\n  },\n\n  getProfile: async () => {\n    return fetchWithToken(`${API_BASE_URL}/api/auth/profile`);\n  },\n\n\n  /** ===================== CONVERSAS ===================== */\n\n\n  getConversations: async () => {\n    return fetchWithToken(`${API_BASE_URL}/api/chat/conversations`);\n  },\n\n  getConversationHistory: async (conversationId) => {\n    if (!conversationId) throw new Error(\"ID da conversa é obrigatório.\");\n    return fetchWithToken(`${API_BASE_URL}/api/chat/conversations/${conversationId}`);\n  },\n\n  renameConversation: async (conversationId, newTitle) => {\n    if (!conversationId || !newTitle) throw new Error(\"ID e título são obrigatórios\");\n\n    const url = `${API_BASE_URL}/api/chat/conversations/${conversationId}/rename`;\n\n    return fetchWithToken(url, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ new_title: newTitle }),\n    });\n  },\n\n  deleteConversation: async (conversationId) => {\n    if (!conversationId) throw new Error(\"ID da conversa obrigatório\");\n    return fetchWithToken(`${API_BASE_URL}/api/chat/conversations/${conversationId}`, {\n      method: \"DELETE\",\n    });\n  },\n\n  /** ===================== MENSAGENS ===================== */\n\n  sendMessage: async (\n  prompt,\n  conversationId = null,\n  attachedDocumentId = null,\n  templateId = null\n) => {\n  if (!prompt) throw new Error(\"Mensagem não pode ser vazia.\");\n  const url = `${API_BASE_URL}/api/chat/conversations`;\n\n  const requestBody = {\n    prompt: prompt,\n  };\n  if (conversationId) {\n    requestBody.conversation_id = conversationId;\n  }\n  if (attachedDocumentId) {\n    requestBody.input_document_id = attachedDocumentId;\n  }\n  if (templateId) {\n    requestBody.template_id = templateId;\n  }\n\n  const data = await fetchWithToken(url, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(requestBody),\n  });\n\n  return data;\n},\n  /** ===================== DOCUMENTOS ===================== */\n  getTemplates: async () => {\n  return fetchWithToken(`${API_BASE_URL}/api/templates`);\n},\n\n/** ===================== DOCUMENTOS (completo) ===================== */\nuploadDocument: async (file) => {\n  if (!file) throw new Error(\"Arquivo não selecionado.\");\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  return fetchWithToken(`${API_BASE_URL}/api/documents/upload`, {\n    method: \"POST\",\n    body: formData,\n  });\n},\n\ngetDocuments: async () => {\n  return fetchWithToken(`${API_BASE_URL}/api/documents`);\n},\n\ndownloadFile: async (gridfsFileId) => {\n  if (!gridfsFileId) throw new Error(\"ID do arquivo é obrigatório.\");\n  const token = getToken();\n  const res = await fetch(`${API_BASE_URL}/files/${gridfsFileId}`, {\n    headers: { Authorization: `Bearer ${token}` },\n  });\n  if (!res.ok) throw new Error(\"Falha ao baixar arquivo.\");\n  return res.blob();\n},\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 508, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/AddFileModal.js"],"sourcesContent":["// AddFileModal.js - VERSÃO CORRIGIDA (arquivo primeiro, depois template)\nimport React, { useState, useEffect } from \"react\";\nimport { MdOutlineClose, MdDriveFolderUpload, MdDescription } from \"react-icons/md\";\nimport { api } from \"../api/Api\";\nimport \"../style/add-file.css\";\n\nexport default function AddFileModal({ onFileUploaded, onClose, activeConversation }) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [templates, setTemplates] = useState([]);\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\n  const [currentStep, setCurrentStep] = useState(1);\n\n  useEffect(() => {\n    if (currentStep === 2) {\n      loadTemplates();\n    }\n  }, [currentStep]);\n\n  const loadTemplates = async () => {\n    try {\n      setIsLoading(true);\n      const templatesData = await api.getTemplates();\n      setTemplates(templatesData || []);\n    } catch (err) {\n      console.error(\"Erro ao carregar templates:\", err);\n      setError(\"Erro ao carregar templates. Tente novamente.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleFileUpload = async (file) => {\n    if (!file || !activeConversation) {\n      setError(\"Selecione um arquivo e verifique a conversa ativa.\");\n      return;\n    }\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const data = await api.uploadDocument(file);\n      const documentId = data?.document?._id || data?._id;\n\n      if (!documentId) {\n        throw new Error(\"ID do documento não recebido da API.\");\n      }\n\n      setUploadedFile({\n        id: documentId,\n        name: file.name,\n        file: file\n      });\n\n      // Avançar para seleção de template\n      setCurrentStep(2);\n      \n    } catch (err) {\n      console.error(\"Erro no upload do arquivo:\", err);\n      setError(err.message || \"Erro ao enviar arquivo.\"); \n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      handleFileUpload(file);\n    }\n  };\n\n  const handleTemplateSelect = async (template) => {\n    if (!uploadedFile) return;\n\n    try {\n      // Aqui você envia tanto o documento quanto o template para processamento\n      const processingData = {\n        documentId: uploadedFile.id,\n        templateId: template._id,\n        fileName: uploadedFile.name,\n        templateName: template.name\n      };\n\n      console.log(\"Processando:\", processingData);\n\n      // Chama a função de callback com ambos os IDs\n      if (onFileUploaded) {\n        onFileUploaded(uploadedFile.id, uploadedFile.name, template._id);\n      }\n\n      onClose();\n      \n    } catch (err) {\n      console.error(\"Erro ao processar:\", err);\n      setError(\"Erro ao selecionar template.\");\n    }\n  };\n\n  const goBackToUpload = () => {\n    setCurrentStep(1);\n    setUploadedFile(null);\n    setSelectedTemplate(null);\n    setError(null);\n  };\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal add-file-modal modal-animate\">\n        <div className=\"modal-header\">\n          <h3>\n            {currentStep === 1 ? \"Enviar Arquivo\" : \"Selecionar Template\"}\n          </h3>\n          <button className=\"close-modal-btn\" onClick={onClose}>\n            <MdOutlineClose />\n          </button>\n        </div>\n\n        <div className=\"modal-steps\">\n          <div className=\"step-indicator\">\n            <div className={`step ${currentStep >= 1 ? 'active' : ''}`}>\n              <span>1</span>\n              Upload\n            </div>\n            <div className=\"step-connector\"></div>\n            <div className={`step ${currentStep >= 2 ? 'active' : ''}`}>\n              <span>2</span>\n              Template\n            </div>\n          </div>\n        </div>\n\n        <div className=\"modal-content\">\n          {error && <p className=\"error-message\">{error}</p>}\n\n          {/* PASSO 1: UPLOAD DO ARQUIVO */}\n          {currentStep === 1 && (\n            <div className=\"upload-section\">\n              <p className=\"modal-description\">\n                Faça upload do arquivo que você deseja processar (DOC, DOCX, XLSX, etc.)\n              </p>\n\n              <label className={`file-upload-label ${isLoading ? \"disabled\" : \"\"}`}>\n                <MdDriveFolderUpload className=\"upload-icon\" />\n                <span>{isLoading ? \"Enviando...\" : \"Escolher Arquivo\"}</span>\n                <input \n                  type=\"file\" \n                  onChange={handleFileChange} \n                  disabled={isLoading} \n                  style={{ display: \"none\" }} \n                  accept=\".doc,.docx,.xlsx,.xls,.pdf,.txt\"\n                />\n              </label>\n\n              <div className=\"supported-formats\">\n                <small>Formatos suportados: DOC, DOCX, XLSX, XLS, PDF, TXT</small>\n              </div>\n            </div>\n          )}\n\n          {/* PASSO 2: SELEÇÃO DO TEMPLATE */}\n          {currentStep === 2 && uploadedFile && (\n            <div className=\"templates-section\">\n              <div className=\"uploaded-file-info\">\n                <MdDescription className=\"file-icon\" />\n                <div className=\"file-details\">\n                  <span className=\"file-name\">{uploadedFile.name}</span>\n                  <span className=\"file-status\">✓ Arquivo enviado com sucesso</span>\n                </div>\n                <button className=\"change-file-btn\" onClick={goBackToUpload}>\n                  Alterar\n                </button>\n              </div>\n\n              <p className=\"modal-description\">\n                Selecione um template para processar o arquivo:\n              </p>\n\n              {isLoading ? (\n                <div className=\"loading-templates\">\n                  <p>Carregando templates...</p>\n                </div>\n              ) : (\n                <div className=\"templates-list\">\n                  {templates.map(template => (\n                    <div \n                      key={template._id}\n                      className={`template_name ${selectedTemplate?._id === template._id ? \"selected\" : \"\"}`}\n                      onClick={() => handleTemplateSelect(template)}\n                    >\n                      <MdDescription className=\"template-icon\" />\n                      <div className=\"template-info\">\n                        <span className=\"template-name\">\n                          {template.name}\n                        </span>\n                        {template.description && (\n                          <span className=\"template-description\">\n                            {template.description}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                  \n                  {templates.length === 0 && (\n                    <div className=\"no-templates\">\n                      <MdDescription className=\"no-templates-icon\" />\n                      <p>Nenhum template disponível</p>\n                      <small>Entre em contato com o administrador para adicionar templates.</small>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 973, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/MenuPerfil.js"],"sourcesContent":["import React from \"react\";\nimport \"../style/menu-perfil.css\";\n\nexport default function MenuPerfil({ onLogout, userEmail }) {\n  const handleLogout = () => {\n    if (typeof onLogout === \"function\") onLogout();\n  };\n\n  return (\n    <div className=\"profile-menu\">\n      <div className=\"profile-info\">\n        <span>{userEmail}</span>\n      </div>\n      <button className=\"profile-option\" onClick={handleLogout} type=\"button\">\n        <span>Sair</span>\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;AAGe,SAAS,WAAW,KAAuB;QAAvB,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAvB;IACjC,MAAM,eAAe;QACnB,IAAI,OAAO,aAAa,YAAY;IACtC;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;8BAAM;;;;;;;;;;;0BAET,6LAAC;gBAAO,WAAU;gBAAiB,SAAS;gBAAc,MAAK;0BAC7D,cAAA,6LAAC;8BAAK;;;;;;;;;;;;;;;;;AAId;KAfwB","debugId":null}},
    {"offset": {"line": 1037, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/File.js"],"sourcesContent":["// components/FileAttachment.js\nimport React from \"react\";\nimport { MdClose, MdDescription } from \"react-icons/md\";\nimport \"../style/file.css\";\n\nexport default function FileAttachment({ \n  documentId, \n  fileName, \n  onRemove,\n  showRemove = true \n}) {\n  const handleRemove = (e) => {\n    e.stopPropagation();\n    onRemove?.();\n  };\n\n  return (\n    <div className=\"file\">\n      <div className=\"file-info\">\n        <MdDescription className=\"file-icon\" />\n        <span className=\"file-name\" title={fileName}>\n          {fileName || `Documento ${documentId?.substring(0, 8)}`}\n        </span>\n      </div>\n      \n      {showRemove && (\n        <button \n          className=\"remove-file-btn\"\n          onClick={handleRemove}\n          title=\"Remover arquivo\"\n        >\n          <MdClose />\n        </button>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,+BAA+B;;;;;;AAC/B;AACA;;;;;AAGe,SAAS,eAAe,KAKtC;QALsC,EACrC,UAAU,EACV,QAAQ,EACR,QAAQ,EACR,aAAa,IAAI,EAClB,GALsC;IAMrC,MAAM,eAAe,CAAC;QACpB,EAAE,eAAe;QACjB,qBAAA,+BAAA;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,kKAAa;wBAAC,WAAU;;;;;;kCACzB,6LAAC;wBAAK,WAAU;wBAAY,OAAO;kCAChC,YAAY,AAAC,aAAwC,OAA5B,uBAAA,iCAAA,WAAY,SAAS,CAAC,GAAG;;;;;;;;;;;;YAItD,4BACC,6LAAC;gBACC,WAAU;gBACV,SAAS;gBACT,OAAM;0BAEN,cAAA,6LAAC,4JAAO;;;;;;;;;;;;;;;;AAKlB;KA/BwB","debugId":null}},
    {"offset": {"line": 1114, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/components/InputChat.js"],"sourcesContent":["// InputChat.js - VERSÃO COMPLETA CORRIGIDA\nimport React, { useState } from \"react\";\nimport { FiSend, FiPlus } from \"react-icons/fi\";\nimport { api } from \"../api/Api\";\nimport File from \"../components/File\";\nimport \"../style/chat.css\";\n\nexport default function InputChat({ \n  activeConversation, \n  onOpenAddFileModal, \n  onMessageSent, \n  attachedDocumentId, \n  setAttachedDocumentId,\n  attachedFileName,\n  setAttachedFileName,\n  attachedTemplateId,\n  setAttachedTemplateId\n}) {\n  const [message, setMessage] = useState(\"\");\n  const [isSending, setIsSending] = useState(false);\n\n  const sendMessage = async () => {\n    const userPrompt = message.trim();\n    if (!activeConversation || (!userPrompt && !attachedDocumentId) || isSending) return;\n\n    setIsSending(true);\n    \n    try {\n      // Enviar mensagem do usuário com template se houver\n      onMessageSent?.({\n        sender: \"user\",\n        content: userPrompt || \"Processar arquivo com template\",\n        id: crypto.randomUUID(),\n        attachedDocumentId: attachedDocumentId,\n        attachedFileName: attachedFileName,\n        templateId: attachedTemplateId\n      });\n\n      const conversationId = activeConversation?._id || activeConversation?.id;\n      \n      // Enviar para API com templateId\n      const data = await api.sendMessage(\n        userPrompt || \"Processar este arquivo com o template selecionado\", \n        conversationId, \n        attachedDocumentId,\n        attachedTemplateId\n      );\n\n      // Limpar anexos após envio\n      setAttachedDocumentId(null);\n      setAttachedFileName(null);\n      setAttachedTemplateId(null);\n\n      onMessageSent?.({\n        sender: \"bot\",\n        content: data?.message_content || data?.content || \"Processamento concluído\",\n        id: crypto.randomUUID(),\n        generated_document_id: data?.document_id,\n      });\n\n    } catch (err) {\n      console.error(\"Erro ao enviar mensagem:\", err);\n      \n      const errorMessage = \"Erro de conexão ou servidor. Tente novamente.\";\n\n      onMessageSent?.({ \n        sender: \"bot\", \n        content: errorMessage, \n        id: crypto.randomUUID() \n      });\n    } finally {\n      setIsSending(false);\n      setMessage(\"\");\n    }\n  };\n\n  const handleRemoveAttachment = () => {\n    setAttachedDocumentId(null);\n    setAttachedFileName(null);\n    setAttachedTemplateId(null);\n  };\n\n  const handleRemoveTemplateOnly = () => {\n    setAttachedTemplateId(null);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault(); \n      sendMessage();\n    }\n  };\n\n  const getPlaceholderText = () => {\n    if (attachedDocumentId && attachedTemplateId) return \"Digite instruções para processar o arquivo com o template...\";\n    if (attachedDocumentId) return \"Digite suas instruções para o documento...\";\n    if (isSending) return \"Aguardando resposta...\";\n    return \"Digite sua mensagem...\";\n  };\n    \n  return (\n    <div className=\"chat-input-container\">\n      {/* Área de anexo - MOSTRAR DOCUMENTO E TEMPLATE */}\n      {(attachedDocumentId || attachedTemplateId) && (\n        <div className=\"attachment-preview\">\n          {attachedDocumentId && (\n            <File\n              documentId={attachedDocumentId}\n              fileName={attachedFileName}\n              onRemove={handleRemoveAttachment}\n            />\n          )}\n          {attachedTemplateId && (\n            <div className=\"template-attachment\">\n              <div className=\"file-info\">\n                <span className=\"file-icon\">📄</span>\n                <span className=\"file-name\">Template selecionado</span>\n              </div>\n              <button \n                className=\"remove-file-btn\"\n                onClick={attachedDocumentId ? handleRemoveTemplateOnly : handleRemoveAttachment}\n                title=\"Remover template\"\n              >\n                ×\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n      \n      {/* Input area */}\n      <div className={`chat-input ${(attachedDocumentId || attachedTemplateId) ? 'has-attachment' : ''}`}>\n        <button \n          className=\"add-file-btn\" \n          onClick={onOpenAddFileModal} \n          disabled={isSending}\n          title=\"Anexar arquivo e template\"\n        >\n          <FiPlus className={attachedDocumentId ? 'attached-icon' : ''} />\n        </button>\n    \n        <input\n          type=\"text\"\n          placeholder={getPlaceholderText()}\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          onKeyDown={handleKeyDown}\n          disabled={isSending}\n        />\n        \n        <button \n          className=\"send-btn\" \n          onClick={sendMessage} \n          disabled={isSending || (!message.trim() && !attachedDocumentId)}\n          title=\"Enviar mensagem\"\n        >\n          <FiSend />\n        </button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1332, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/tesst/src/app/chat/page.js"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport SidebarItem from \"../../components/SidebarItem\";\nimport Modal from \"../../components/Modal\";\nimport DocumentLink from \"../../components/DocumentLink\";\nimport AddFileModal from \"../../components/AddFileModal\";\nimport MenuPerfil from \"../../components/MenuPerfil\";\nimport InputChat from \"../../components/InputChat\";\nimport { FaUserCircle } from \"react-icons/fa\";\nimport { api } from \"../../api/Api\";\nimport \"../../style/chat.css\";\n\nexport default function ChatPage() {\n  const [conversations, setConversations] = useState([]);\n  const [activeConversation, setActiveConversation] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [user, setUser] = useState({ name: \"Carregando...\", email: \"carregando@email.com\" });\n  const [modal, setModal] = useState(null);\n  const [showMenuPerfil, setShowMenuPerfil] = useState(false);\n  const [showAddFileModal, setShowAddFileModal] = useState(false);\n\n  // Estados para gerenciar os anexos\n  const [attachedDocumentId, setAttachedDocumentId] = useState(null);\n  const [attachedFileName, setAttachedFileName] = useState(null);\n  const [attachedTemplateId, setAttachedTemplateId] = useState(null); // ← ESTADO ADICIONADO\n\n  const chatContainerRef = useRef(null);\n\n  // Carrega conversas e usuário ao abrir\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        if (!token) return;\n\n        const [convData, userData] = await Promise.all([\n          api.getConversations(),\n          api.getProfile(),\n        ]);\n\n        setConversations(convData);\n        setUser({ name: userData.name, email: userData.email });\n\n        if (convData.length) selectConversation(convData[0]);\n        else {\n          const newConvData = await api.sendMessage(\"Olá, TPF-AI!\");\n          setConversations(prev => [newConvData.conversation, ...prev]);\n          selectConversation(newConvData.conversation);\n        }\n      } catch (err) {\n        console.error(\"Erro ao carregar chat:\", err.message);\n      }\n    };\n    load();\n  }, []);\n\n  useEffect(() => {\n    if (chatContainerRef.current)\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n  }, [messages]);\n\n  const selectConversation = async (conversation) => {\n    setActiveConversation(conversation);\n    setAttachedDocumentId(null);\n    setAttachedFileName(null);\n    setAttachedTemplateId(null); // ← LIMPAR TEMPLATE TAMBÉM\n    try {\n      const history = await api.getConversationHistory(conversation._id || conversation.id);\n      setMessages(history || []);\n    } catch {\n      setMessages([]);\n    }\n  };\n\n  // Funções de renomear e excluir\n  const handleRenameConversation = async (conversationId, newTitle) => {\n    if (!conversationId || !newTitle) return alert(\"Título obrigatório\");\n\n    try {\n      await api.renameConversation(conversationId, newTitle);\n      setConversations(prev =>\n        prev.map(c => (c._id === conversationId ? { ...c, title: newTitle } : c))\n      );\n      closeModal();\n    } catch (err) {\n      alert(\"Erro ao renomear: \" + err.message);\n    }\n  };\n\n  const handleDeleteConversation = async (conversationId) => {\n    if (!conversationId) return alert(\"ID da conversa não encontrado\");\n\n    try {\n      await api.deleteConversation(conversationId);\n      const newConversations = conversations.filter(c => c._id !== conversationId);\n      setConversations(newConversations);\n\n      if (activeConversation && activeConversation._id === conversationId) {\n        selectConversation(newConversations[0] || null);\n      }\n      closeModal();\n    } catch (err) {\n      alert(\"Erro ao excluir: \" + err.message);\n    }\n  };\n\n  const handleNewMessage = (msg) => setMessages(prev => [...prev, msg]);\n  const closeModal = () => setModal(null);\n  const onLogout = () => (window.location.href = \"/auth/login\");\n\n  const handleFileUploaded = (documentId, fileName, templateId) => {\n    setAttachedDocumentId(documentId);\n    setAttachedFileName(fileName);\n    setAttachedTemplateId(templateId); // ← DEFINIR TEMPLATE ID\n    setShowAddFileModal(false);\n    \n    alert(`Arquivo \"${fileName}\" e template selecionado! Digite suas instruções.`);\n  };\n\n  return (\n    <div className=\"chat-container\">\n      {/* Sidebar */}\n      <aside className=\"sidebar\">\n        <h1 className=\"logo\">TPF<span>-AI</span></h1>\n\n        <button\n          className=\"new-chat\"\n          onClick={async () => {\n            try {\n              setActiveConversation(null);\n              setMessages([]);\n              setAttachedDocumentId(null);\n              setAttachedFileName(null);\n              setAttachedTemplateId(null); // ← LIMPAR TEMPLATE\n\n              const apiResponse = await api.sendMessage(\"Novo chat iniciado\");\n\n              if (!apiResponse || !apiResponse.conversation_id) {\n                throw new Error(\"API não retornou o ID da nova conversa.\");\n              }\n              const newConvList = await api.getConversations();\n              const newConversation = newConvList.find(c => c._id === apiResponse.conversation_id) || newConvList[0];\n\n              if (!newConversation) {\n                throw new Error(\"Falha ao recuperar os dados da nova conversa.\");\n              }\n\n              setConversations(newConvList); \n              selectConversation(newConversation);\n\n            } catch (err) {\n              console.error(\"Erro ao criar novo chat:\", err.message);\n            }\n          }}\n        >\n          + Novo Chat\n        </button>\n\n        <h4>Histórico</h4>\n        <div className=\"chat-list\">\n          {conversations\n            .filter(conv => conv && conv._id)\n            .map((conv) => (\n              <SidebarItem\n                key={conv._id}\n                conversation={conv}\n                onRename={(conversation) =>\n                  setModal({ type: \"renomear\", chat: conversation })\n                }\n                onDelete={(conversation) =>\n                  setModal({ type: \"excluir\", chat: conversation })\n                }\n                onSelect={selectConversation}\n                isActive={activeConversation && activeConversation._id === conv._id}\n              />\n            ))}\n        </div>\n\n        <div className=\"user-profile\" onClick={() => setShowMenuPerfil(!showMenuPerfil)}>\n          <div className=\"user-icon-container\"><FaUserCircle size={32} color=\"#000000ff\" /></div>\n          <span>{user.name}</span>\n          {showMenuPerfil && <MenuPerfil onLogout={onLogout} userEmail={user.email} />}\n        </div>\n      </aside>\n\n      {/* Chat principal */}\n      <main className=\"chat-main\">\n        <div className=\"chat-messages\" ref={chatContainerRef}>\n          {messages.map(msg => (\n            <div key={msg._id || msg.id} className={`message-bubble ${msg.role === \"user\" ? \"user\" : \"bot\"}`}>\n              {msg.content}\n              {msg.generated_document_id && (\n                <DocumentLink documentId={msg.generated_document_id} />\n              )}\n            </div>\n          ))}\n        </div>\n\n        <InputChat\n          activeConversation={activeConversation}\n          onMessageSent={handleNewMessage}\n          onOpenAddFileModal={() => setShowAddFileModal(true)}\n          attachedDocumentId={attachedDocumentId}\n          setAttachedDocumentId={setAttachedDocumentId}\n          attachedFileName={attachedFileName}\n          setAttachedFileName={setAttachedFileName}\n          attachedTemplateId={attachedTemplateId}\n          setAttachedTemplateId={setAttachedTemplateId} \n        />\n      </main>\n\n      {/* Modais */}\n      {modal && modal.chat && (\n        <Modal\n          type={modal.type}\n          chatTitle={modal.chat.title}\n          onClose={closeModal}\n          onConfirm={\n            modal.type === \"renomear\"\n              ? (newTitle) => handleRenameConversation(modal.chat._id, newTitle)\n              : () => handleDeleteConversation(modal.chat._id)\n          }\n        />\n      )}\n\n      {showAddFileModal && (\n        <AddFileModal\n          onClose={() => setShowAddFileModal(false)}\n          activeConversation={activeConversation}\n          onFileUploaded={handleFileUploaded}\n        />\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}